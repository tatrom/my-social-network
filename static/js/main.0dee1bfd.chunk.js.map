{"version":3,"sources":["Components/Dialogs/Message/Message.module.css","Components/common/Preloader/Preloader.module.css","Components/Profile/Profile.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPost/MyPosts.module.css","Components/Navbar/Navbar.tsx","Redux/dialog-reducer.ts","Components/Dialogs/DialogsItem/DialogsItem.tsx","Components/Dialogs/Message/Message.tsx","Components/common/FormsControls/FormsControls.tsx","Utils/validators/validators.ts","Components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","Components/Dialogs/DialogsContainer.tsx","api/api.tsx","Utils/object-helpers.ts","Redux/users-reducer.ts","Components/Users/User/User.tsx","assets/images.jpeg","Components/Users/Pagination/Pagination.tsx","Components/Users/UsersComponent.tsx","Components/common/Preloader/Preloader.tsx","Redux/users-selector.ts","Components/Users/UsersContainer.tsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Redux/profile-reducer.ts","Components/Profile/MyPost/Post/Post.tsx","Components/Profile/MyPost/MyPosts.tsx","Components/Profile/MyPost/MyPostsContainer.tsx","Components/Profile/Profile.tsx","Redux/auth-reducer.ts","Components/Profile/ProfileContainer.tsx","Components/Header/Header.tsx","Components/Header/HeaderContainer.tsx","Components/Login/Login.tsx","Redux/app-reducer.ts","App.tsx","Redux/redux-store.ts","index.tsx","Components/Navbar/Navbar.module.css","Components/common/FormsControls/FormsControls.module.css","Components/Users/Users.module.css","Components/Dialogs/Dialogs.module.css","Components/Profile/MyPost/Post/Post.module.css","Components/Dialogs/DialogsItem/DialogsItem.module.css","Components/Header/Header.module.css"],"names":["module","exports","Navbar","className","s","nav","to","activeClassName","active","SEND_MESSAGE","initialState","messages","id","message","dialogs","name","dialogReducer","state","action","type","stateCopy","push","DialogItem","props","dialogItem","Message","FormControl","meta","touched","error","children","hasError","formControl","Textarea","input","restProps","Input","requiredField","value","maxLengthCreator","maxLength","length","maxLength100","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","MapStateToProps","isAuth","Auth","WithAuthRedirect","Component","connect","compose","dialogPage","DialogPage","dispatch","sendMessage","SendMessageAC","dialogsElements","map","dialog","messageElements","dialogsItems","values","newMessageBody","instance","axios","create","baseURL","withCredentials","headers","UsersApi","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unfollowUser","delete","profileApi","status","put","authApi","email","password","rememberMe","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","totalUserCount","isFetching","toggleIsFollowing","followUserSuccess","unFollowUserSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalUsersCount","filter","User","key","user","disabled","some","onClick","src","photos","small","alt","Pagination","onPageChanged","pagesCount","Math","ceil","pages","i","p","selectedPage","Users","Preloader","preloader","CircularProgress","color","getPageSize","getCurrentPage","getTotalUsersCount","getIsFollowing","getIsFetching","UsersContainer","pageNumber","this","React","bind","totalCount","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileInfo","profile","photo","large","userImg","width","UpdateStatus","posts","likes","setUserProfile","profileReducer","text","postText","trim","newPost","postId","Post","maxLength10","MyPosts","memo","el","AddPostReduxForm","addPost","newPostBody","placeholder","MyPostsContainer","ProfilePage","Profile","content","login","setAuthUserData","getAuthUserData","authReducer","ProfileContainer","match","params","getUserProfile","SetStatus","title","withRouter","Header","header","loginBlock","logout","HeaderContainer","store","LoginReduxForm","style","formSummaryError","stopSubmit","_error","formData","initialized","App","InitializeApp","path","exact","render","DialogsContainer","app","reducers","combineReducers","formReducer","createStore","applyMiddleware","ThunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0dee1bfd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__28aa8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1X58S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__33cQd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__1FWdy\",\"userImg\":\"ProfileInfo_userImg__3Lm_R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mypost\":\"MyPosts_mypost__c-Uf_\",\"button\":\"MyPosts_button__3JaKz\"};","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport s from './Navbar.module.css'\n\nexport const Navbar = () => {\n    return <div className={s.nav}>\n        <ul>\n            <li><NavLink to={\"/profile\"} activeClassName={s.active}>Profile</NavLink></li>\n            <li><NavLink to={\"/dialogs\"} activeClassName={s.active}>Messages</NavLink></li>\n            <li><NavLink to={\"/news\"} activeClassName={s.active}>News</NavLink></li>\n            <li><NavLink to={\"/music\"} activeClassName={s.active}>Music</NavLink></li>\n            <li><NavLink to={\"/settings\"} activeClassName={s.active}>Settings</NavLink></li>\n            <li><NavLink to={\"/users\"} activeClassName={s.active}>Users</NavLink></li>\n            <li>\n            </li>\n        </ul>\n    </div>\n}","const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\";\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\n\n//initial state\nlet initialState = {\n    messages: [\n        {id: 1, message: \"Hello, i'm first message\"},\n        {id: 2, message: \"Hello, I'm second message\"},\n        {id: 3, message: \"Hello, I'm third message\"},\n        {id: 4, message: \"Hello, I'm fourth message\"},\n    ],\n    dialogs: [\n        {id: 1, name: \"Anna\"},\n        {id: 1, name: \"Roman\"},\n        {id: 1, name: \"Renat\"},\n        {id: 1, name: \"Anatoly\"}\n    ],\n}\n\n//reducer\nexport const dialogReducer = (state: DialogPageType = initialState, action: DialogReducerType): DialogPageType => {\n    switch (action.type) {\n\n        case SEND_MESSAGE: {\n            const stateCopy = {...state, messages: [...state.messages]}\n            if (action.message) {\n                stateCopy.messages.push({id: 6, message: action.message})\n            }\n            return {...stateCopy}\n        }\n\n        default:\n            return state\n    }\n}\n\n//types\nexport type DialogsType = {\n    id: number\n    name: string\n}\nexport type MessagesType = {\n    id: number\n    message: string\n\n}\nexport type DialogPageType = {\n    messages: Array<MessagesType>\n    dialogs: Array<DialogsType>\n}\n\ntype SendMessageType = ReturnType<typeof SendMessageAC>\ntype UpdateNewMessageBodyType = ReturnType<typeof updateNewMessageBodyCreator>\nexport type DialogReducerType = SendMessageType | UpdateNewMessageBodyType\n\n\n//action creators\nexport const SendMessageAC = (message: string) => ({type: SEND_MESSAGE, message} as const )\nexport const updateNewMessageBodyCreator = (text: string) => ({type: UPDATE_NEW_MESSAGE_BODY, body: text} as const )\n\nexport default dialogReducer","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport s from \"./DialogsItem.module.css\";\n\ntype DialogItemType = {\n    name: string\n}\n\nexport const DialogItem = (props: DialogItemType) => {\n    return (\n        <div className={s.dialogItem}>\n            <NavLink to={'/dialogs/'} className={s.dialogItem}>{props.name}</NavLink>\n        </div>\n    )\n}\n","import s from \"./Message.module.css\";\nimport React from \"react\";\n\n\ntype MessageType = {\n    message: string\n}\n\nexport const Message = (props: MessageType) => {\n    return (\n        <div className={s.message}>{props.message}</div>\n    )\n}","import s from './FormsControls.module.css'\nimport React from \"react\";\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\n\ntype FormControlPropsType = {\n    meta: WrappedFieldMetaProps\n}\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\n    const hasError = touched && error;\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            {hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props} ><input {...input} {...props} {...restProps}/></FormControl>\n}\n\n","export const requiredField = (value: string) => {\n\n    if (value) {\n        return undefined;\n    }\n\n    return 'Filed is required'\n}\n\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\n    if (value.length > maxLength) return `Max length is ${maxLength}`\n\n    return undefined;\n}","import React, {ChangeEvent, KeyboardEvent} from 'react';\nimport s from './Dialogs.module.css'\nimport {DialogItem} from './DialogsItem/DialogsItem';\nimport {Message} from \"./Message/Message\";\nimport {DialogPageType} from \"../../Redux/dialog-reducer\";\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\nimport {maxLengthCreator, requiredField} from \"../../Utils/validators/validators\";\nimport {Redirect} from \"react-router-dom\";\n\n\ntype DialogsType = {\n    isAuth: boolean\n    dialogPage: DialogPageType\n    sendMessage: (message: string) => void\n}\n\ntype FormDataType = {\n    newMessageBody: string\n}\n\nconst maxLength100 = maxLengthCreator(100)\n\nexport const Dialogs = (props: DialogsType) => {\n\n    let dialogsElements = props.dialogPage.dialogs.map((dialog, id) => <DialogItem key={id} name={dialog.name}/>);\n    let messageElements = props.dialogPage.messages.map((message, id) => <Message key={id} message={message.message}/>);\n\n    if (!props.isAuth) {\n        return <Redirect to={'/login'}/>\n    }\n\n    const addMessageHandler = (values: FormDataType) => {\n        props.sendMessage(values.newMessageBody)\n    }\n\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>\n                {dialogsElements}\n            </div>\n            <div className={s.messages}>\n                <div>{messageElements}</div>\n            </div>\n            <AddMessageFormRedux onSubmit={addMessageHandler}/>\n        </div>\n    )\n}\n\nconst AddMessageForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div><Field component={Textarea} name={'newMessageBody'} validate={[requiredField, maxLength100]}/></div>\n            <div>\n                <button>Send</button>\n            </div>\n        </form>\n    )\n}\n\nconst AddMessageFormRedux = reduxForm<FormDataType>({\n    form: 'dialogAddMessageForm'\n})(AddMessageForm)\n","import React, {ComponentType} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {RootStateType} from \"../Redux/redux-store\";\nimport {connect} from \"react-redux\";\n\ntype MapStatePropsType = {\n    isAuth: boolean\n}\nconst MapStateToProps = (state: RootStateType): MapStatePropsType => {\n    return {\n        isAuth: state.Auth.isAuth\n    }\n}\n\nexport function WithAuthRedirect<T>(Component: ComponentType<T>) {\n    const RedirectComponent = (props: MapStatePropsType) => {\n        let {isAuth, ...restProps} = props\n        if (!isAuth) {\n            return <Redirect to={'/login'}/>\n        }\n        return <Component {...restProps as T} />\n    }\n    let ConnectedRedirectComponent = connect(MapStateToProps)(RedirectComponent)\n    return ConnectedRedirectComponent\n}","import {\n    DialogReducerType,\n    SendMessageAC,\n} from \"../../Redux/dialog-reducer\";\nimport {Dialogs} from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {compose} from \"redux\";\nimport {ComponentType} from \"react\";\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\n\n\nlet MapStateToStore = (state: RootStateType) => {\n    return {\n        dialogPage: state.DialogPage,\n        isAuth: state.Auth.isAuth\n    }\n}\n\nlet MapDispatchToProps = (dispatch: (action: DialogReducerType) => void) => {\n    return {\n        sendMessage: (message: string) => dispatch(SendMessageAC(message))\n    }\n}\n\nexport default compose<ComponentType>(WithAuthRedirect, connect(MapStateToStore, MapDispatchToProps))(Dialogs)","import axios from \"axios\";\n\n\nconst instance = axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": \"8c49b133-928a-4a57-b997-bbf0ea6abb17\"\n    }\n})\n\nexport const UsersApi = {\n    getUsers(currentPage: number, pageSize: number) {\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    followUser(userId: number) {\n        return instance.post(`/follow/${userId}`)\n    },\n    unfollowUser(userId: number) {\n        return instance.delete(`/follow/${userId}`)\n    },\n}\n\nexport const profileApi = {\n    getProfile(userId: string) {\n        return instance.get(`/profile/${userId}`)\n    },\n    setStatus(userId: string) {\n        return instance.get(`/profile/status/${userId}`)\n    },\n    updateStatus(status: string) {\n        return instance.put(`/profile/status`, {status})\n    },\n\n}\nexport const authApi = {\n    setProfile(userId: string) {\n        console.warn('Obsolete method. Use profileApi object')\n        return profileApi.getProfile(userId)\n    },\n    me() {\n        return instance.get(`/auth/me`)\n    },\n    login(email: string, password: string, rememberMe: boolean) {\n        return instance.post('/auth/login', {email, password, rememberMe}\n        )\n    },\n    logout() {\n        return instance.delete('/auth/login')\n    },\n}","export const updateObjectInArray = (items: Array<any>, itemId: number, objPropName: string, newObjProps: Object) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u;\n    })\n}","import {UsersApi} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {updateObjectInArray} from \"../Utils/object-helpers\";\n\n\n//initial state\nlet initialState = {\n    users: [],\n    currentPage: 1,\n    pageSize: 10,\n    totalUserCount: 0,\n    isFetching: false,\n    toggleIsFollowing: []\n}\n\n//reducer\nconst usersReducer = (state: UsersType = initialState, action: UsersReducerType): UsersType => {\n    switch (action.type) {\n        case \"FOLLOW\":\n            return {...state, users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})}\n        case \"UNFOLLOW\":\n            return {...state, users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})}\n        case \"SET_USERS\":\n            return {...state, users: action.users}\n        case \"SET_CURRENT_PAGE\":\n            return {...state, currentPage: action.currentPage}\n        case \"SET_TOTAL_USERS_COUNT\":\n            return {...state, totalUserCount: action.totalUsersCount}\n        case \"TOGGLE_IS_FETCHING\":\n            return {...state, isFetching: action.isFetching}\n        case \"TOGGLE_IS_FOLLOWING_PROGRESS\":\n            return {\n                ...state,\n                toggleIsFollowing: action.isFetching\n                    ? [...state.toggleIsFollowing, action.id]\n                    : [...state.toggleIsFollowing.filter(id => id !== action.id)]\n            }\n        default:\n            return state;\n    }\n}\n\n// types\nexport type UserType = {\n    name: string\n    id: number\n    uniqueUrlName: string | null,\n    photos: {\n        small: string | null\n        large: string | null\n    },\n    status: string | null\n    \"followed\": boolean\n}\nexport type UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUserCount: number\n    currentPage: number\n    isFetching: boolean\n    toggleIsFollowing: Array<number>\n\n}\n\ntype FollowUserType = ReturnType<typeof followUserSuccess>\ntype UnfollowUserType = ReturnType<typeof unFollowUserSuccess>\ntype SetUsersType = ReturnType<typeof setUsers>\ntype SetCurrentPage = ReturnType<typeof setCurrentPage>\ntype SetTotalUserCount = ReturnType<typeof setTotalUsersCount>\ntype ToggleIsFetching = ReturnType<typeof toggleIsFetching>\nexport type toggleFollowingProgressType = ReturnType<typeof toggleFollowingProgress>\n\nexport type UsersReducerType =\n    | FollowUserType\n    | UnfollowUserType\n    | SetUsersType\n    | SetCurrentPage\n    | SetTotalUserCount\n    | ToggleIsFetching\n    | toggleFollowingProgressType\n\n\n// action creators\nexport const followUserSuccess = (userId: number) => ({type: \"FOLLOW\", userId} as const)\nexport const unFollowUserSuccess = (userId: number) => ({type: \"UNFOLLOW\", userId} as const)\nexport const setUsers = (users: Array<UserType>) => ({type: \"SET_USERS\", users: users} as const)\nexport const setCurrentPage = (currentPage: number) => ({type: \"SET_CURRENT_PAGE\", currentPage} as const)\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\n    type: \"SET_TOTAL_USERS_COUNT\",\n    totalUsersCount\n} as const)\nexport const toggleIsFetching = (isFetching: boolean) => ({type: \"TOGGLE_IS_FETCHING\", isFetching} as const)\nexport const toggleFollowingProgress = (isFetching: boolean, id: number) => ({\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\n    isFetching,\n    id\n} as const)\n\n//helpers\nexport const followUnfollowFlow = async (dispatch: Dispatch<UsersReducerType>, userId: number, apiMethod: Function, actionCreator: Function) => {\n    const response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\n\n\n// thunks\nexport const getUsersAC = (currentPage: number, pageSize: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleIsFetching(true))\n    const response = await UsersApi.getUsers(currentPage, pageSize)\n    dispatch(toggleIsFetching(false))\n    dispatch(setUsers(response.items))\n    dispatch(setTotalUsersCount(response.totalCount))\n    dispatch(setCurrentPage(currentPage))\n}\n\nexport const unfollowUser = (userId: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    await followUnfollowFlow(dispatch, userId, UsersApi.unfollowUser.bind(UsersApi), unFollowUserSuccess)\n\n}\n\nexport const followUser = (userId: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    await followUnfollowFlow(dispatch, userId, UsersApi.followUser.bind(UsersApi), followUserSuccess)\n}\n\n\nexport default usersReducer","import {NavLink} from \"react-router-dom\";\nimport UserImg from \"../../../assets/images.jpeg\";\nimport React from \"react\";\nimport {UserType} from \"../../../Redux/users-reducer\";\n\ntype PropsType = {\n    user: UserType\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    toggleIsFollowing: Array<number>\n}\n\nexport const User: React.FC<PropsType> = ({user, followUser, unfollowUser, toggleIsFollowing}, key) => {\n    return (\n        <div key={key}>\n            <div>{user.name}</div>\n            <div>{user.status ? user.status : \"I don't have a status\"}</div>\n            <div>{user.followed ?\n                <button disabled={toggleIsFollowing.some(id => user.id === id)} onClick={() => {\n                    unfollowUser(user.id)\n                }\n                }>\n                    Unfollow\n                </button> :\n                <button disabled={toggleIsFollowing.some(id => user.id === id)} onClick={() => {\n                    followUser(user.id)\n                }}>Follow</button>}</div>\n            <div>{user.status}</div>\n            <NavLink to={`/profile/${user.id}`}>\n                <img src={user.photos.small !== null ? user.photos.small : UserImg} alt={'user'}/>\n            </NavLink>\n        </div>\n    )\n}","export default \"data:image/jpeg;base64,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\"","import s from \"../Users.module.css\";\nimport React from \"react\";\n\ntype PaginationPropsType = {\n    totalUserCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n}\nexport const Pagination: React.FC<PaginationPropsType> = ({totalUserCount, pageSize, currentPage, onPageChanged}) => {\n    let pagesCount = Math.ceil(totalUserCount / pageSize)\n\n    let pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n    return (\n        <div className={s.users}>\n            {pages.map((p, id) => {\n                return <span key={id} className={currentPage === p ? s.selectedPage : \"\"}\n                             onClick={() => onPageChanged(p)\n                             }>{p}/</span>\n            })}\n        </div>\n    )\n}","import React from \"react\";\nimport s from './Users.module.css'\nimport {UserType} from \"../../Redux/users-reducer\";\nimport {User} from \"./User/User\";\nimport {Pagination} from \"./Pagination/Pagination\";\n\ntype UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUserCount: number\n    currentPage: number\n    toggleIsFollowing: Array<number>\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    setCurrentPage: (currentPage: number) => void\n    onPageChanged: (pageNumber: number) => void\n    toggleFollowingProgress: (isFetching: boolean, id: number) => void\n}\n\n\nexport function Users(props: UsersType) {\n\n    return <div>\n        <div className={s.users}>\n            <Pagination currentPage={props.currentPage} onPageChanged={props.onPageChanged} pageSize={props.pageSize}\n                        totalUserCount={props.totalUserCount}/>\n            {props.users.map((u) => <User key={u.id} user={u} unfollowUser={props.unfollowUser}\n                                          followUser={props.followUser}\n                                          toggleIsFollowing={props.toggleIsFollowing}/>)}\n        </div>\n    </div>\n}","import {CircularProgress} from \"@material-ui/core\";\nimport React from \"react\";\nimport s from './Preloader.module.css'\n\nexport function Preloader() {\n    return <div className={s.preloader}><CircularProgress color=\"secondary\"/></div>\n}","import {RootStateType} from \"./redux-store\";\n\nexport const getUsers = (state: RootStateType) => {\n    return state.Users.users\n}\n\nexport const getPageSize = (state: RootStateType) => {\n    return state.Users.pageSize\n}\n\nexport const getCurrentPage = (state: RootStateType) => {\n    return state.Users.currentPage\n}\n\nexport const getTotalUsersCount = (state: RootStateType) => {\n    return state.Users.totalUserCount\n}\n\nexport const getIsFollowing = (state: RootStateType) => {\n    return state.Users.toggleIsFollowing\n}\n\nexport const getIsFetching = (state: RootStateType) => {\n    return state.Users.isFetching\n}\n\n","import React, {ComponentType} from \"react\";\nimport {connect} from \"react-redux\";\nimport {\n    followUser,\n    setCurrentPage,\n    setUsers,\n    unfollowUser,\n    toggleFollowingProgress, getUsersAC, UserType\n} from \"../../Redux/users-reducer\";\nimport {Users} from './UsersComponent'\nimport {Preloader} from \"../common/Preloader/Preloader\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getIsFetching,\n    getIsFollowing,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../Redux/users-selector\";\n\ntype UsersType = {\n    users: Array<UserType>\n    pageSize: number,\n    totalUserCount: number,\n    currentPage: number\n    isFetching: boolean\n    toggleIsFollowing: Array<number>\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    setCurrentPage: (currentPage: number) => void\n    toggleFollowingProgress: (isFetching: boolean, id: number) => void\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\nexport class UsersContainer extends React.Component<UsersType> {\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        this.props.getUsers(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users users={this.props.users} currentPage={this.props.currentPage} followUser={this.props.followUser}\n                   onPageChanged={this.onPageChanged} pageSize={this.props.pageSize}\n                   setCurrentPage={this.props.setCurrentPage} totalUserCount={this.props.totalUserCount}\n                   unfollowUser={this.props.unfollowUser}\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\n                   toggleIsFollowing={this.props.toggleIsFollowing}\n            />\n        </>\n    }\n}\n\nlet MapStateToProps = (state: RootStateType) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUserCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        toggleIsFollowing: getIsFollowing(state)\n\n    }\n}\n\nexport default compose<ComponentType>(connect(MapStateToProps, {\n    followUser,\n    unfollowUser,\n    setUsers,\n    setCurrentPage,\n    toggleFollowingProgress,\n    getUsers: getUsersAC\n}), WithAuthRedirect)(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from \"react\";\n\ntype ProfileStatusPropsType = {\n    status: string\n    updateStatus: (title: string) => void\n}\n\nexport const ProfileStatusWithHooks = (props: ProfileStatusPropsType) => {\n\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const [status, setStatus] = useState<string>(props.status)\n\n    useEffect(() => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n    }\n\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setStatus(e.currentTarget.value)\n\n    }\n    return (\n        <>\n            {!editMode &&\n            <div>\n                <span onDoubleClick={activateEditMode}>{props.status || '------'}</span>\n            </div>\n            }{editMode &&\n        <div>\n            <input autoFocus={true} onBlur={deactivateEditMode}\n                   value={status} onChange={onStatusChange}/>\n        </div>\n        }\n        </>\n    )\n}","import React from \"react\";\nimport s from './ProfileInfo.module.css'\nimport {Preloader} from \"../../common/Preloader/Preloader\";\nimport {ProfileType} from \"../../../Redux/profile-reducer\";\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\n\ntype ProfileInfoPropsType = {\n    profile: ProfileType | null\n    status: string\n    UpdateStatus: (status: string) => void\n}\n\nexport function ProfileInfo(props: ProfileInfoPropsType) {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    let photo = props.profile.photos.small !== null ? props.profile.photos.small : props.profile.photos.large\n    return (\n        <div>\n            <div className={s.userImg}>\n                {photo !== null &&\n                <img src={props.profile.photos.large} width='100' alt={'img'}/>}\n            </div>\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.UpdateStatus}/>\n        </div>\n    )\n}","import {Dispatch} from \"redux\";\nimport {profileApi} from \"../api/api\";\n\n\n//initial state\nlet initialState = {\n    posts: [\n        {id: 1, message: \"Its a first post\", likes: 3},\n        {id: 2, message: \"Its a second post\", likes: 3},\n        {id: 3, message: \"Its a third post\", likes: 3},\n        {id: 4, message: \"Its a fourth post\", likes: 3},\n        {id: 5, message: \"Its a fifth post\", likes: 3},\n    ],\n    profile: null,\n    status: ''\n}\n\n//reducer\nconst profileReducer = (state: ProfilePageType = initialState, action: ProfileReducerType): ProfilePageType => {\n    switch (action.type) {\n        case 'ADD-POST':\n            let text = action.postText.trim()\n            const stateCopy = {...state, posts: [...state.posts]}\n            if (text) {\n                let newPost: PostType = {\n                    id: 1,\n                    message: text,\n                    likes: 5\n                }\n                stateCopy.posts.push(newPost)\n            }\n            return stateCopy\n        case \"SET-USER-PROFILE\":\n            return {...state, profile: action.profile,}\n        case 'SET-STATUS':\n            return {...state, status: action.status}\n        case 'DELETE_POST':\n            return {...state, posts: state.posts.filter(post => post.id !== action.postId)}\n        default:\n            return state;\n    }\n}\n\n//types\nexport type PostType = {\n    id: number\n    message: string\n    likes: number\n}\nexport type ProfileType = {\n    aboutMe: string\n    contacts: {\n        [key: string]: string\n    }\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    fullName: string\n    userId: number\n    photos: {\n        small: string\n        large: string\n    }\n}\nexport type ProfilePageType = {\n    posts: Array<PostType>\n    profile: ProfileType | null\n    status: string\n}\ntype AddPostActionType = ReturnType<typeof addPost>\ntype ChangeNewTextActionType = ReturnType<typeof updateNewPostText>\ntype SetUserProfileType = ReturnType<typeof setUserProfile>\ntype DeletePostType = ReturnType<typeof deletePost>\ntype GetStatusType = ReturnType<typeof setStatus>\n\nexport type ProfileReducerType =\n    AddPostActionType\n    | ChangeNewTextActionType\n    | SetUserProfileType\n    | GetStatusType\n    | DeletePostType\n\n// action creators\nexport const addPost = (postText: string) => ({type: 'ADD-POST', postText} as const)\nexport const updateNewPostText = (newText: string) => ({type: \"UPDATE-NEW-POST-TEXT\", newText: newText} as const)\nexport const setUserProfile = (profile: ProfileType) => ({type: \"SET-USER-PROFILE\", profile} as const)\nexport const setStatus = (status: string) => ({type: 'SET-STATUS', status} as const)\nexport const deletePost = (postId: number) => ({type: 'DELETE_POST', postId} as const)\n\n//thunks\nexport const SetStatus = (userId: string) => async (dispatch: Dispatch) => {\n    const response = await profileApi.setStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const UpdateStatus = (title: string) => async (dispatch: Dispatch) => {\n    const response = await profileApi.updateStatus(title)\n    if (response.data.resultCode === 0) {\n        debugger;\n        dispatch(setStatus(title))\n    }\n}\n\nexport default profileReducer","import React from 'react';\nimport s from './Post.module.css'\n\ntype PostType = {\n    id: number\n    message: string\n    likes: number\n}\nexport const Post = (props: PostType) => {\n    return (\n        <div className={s.post}>\n            <div>\n                <img\n                    src=\"https://thumbs-prod.si-cdn.com/IjbgoCcHvUa6ISjPAvS8T6DTHA8=/fit-in/1600x0/https://public-media.si-cdn.com/filer/97/2c/972c4531-0552-4a49-b51b-4cdb5066bd1d/tacc1157_05_faceright_10k_rgb.jpg\"\n                    alt=\"img\"/>\n            </div>\n            <div className={s.text}> {props.message}</div>\n            <div className={s.likes}> likes {props.likes}</div>\n        </div>\n    )\n}","import React from 'react';\nimport s from './MyPosts.module.css'\nimport {Post} from \"./Post/Post\";\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\nimport {maxLengthCreator, requiredField} from '../../../Utils/validators/validators';\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\ntype PostType = {\n    id: number\n    message: string\n    likes: number\n}\n\ntype MyPostType = {\n    posts: Array<PostType>\n    addPost: (postText: string) => void\n}\n\ntype FormDataType = {\n    newPostBody: string\n}\n\nconst maxLength10 = maxLengthCreator(10)\n\nexport const MyPosts = React.memo((props: MyPostType) => {\n\n    let posts = props.posts.map((el, id) => <Post key={id} id={el.id} message={el.message} likes={el.likes}/>)\n\n    function addPost(postText: FormDataType) {\n        props.addPost(postText.newPostBody)\n    }\n\n    return (<>\n            <AddPostReduxForm onSubmit={addPost}/>\n            <div className={s.posts}>\n                {posts}\n            </div>\n        </>\n    )\n})\n\nconst AddPostForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field placeholder={'Post message'} component={Textarea} name={'newPostBody'}\n                   validate={[requiredField, maxLength10]}/>\n            <button>Add post</button>\n        </form>\n    )\n}\n\nconst AddPostReduxForm = reduxForm<FormDataType>({\n    form: 'profileAddPostForm'\n})(AddPostForm)","import {addPost, ProfileReducerType, updateNewPostText} from \"../../../Redux/profile-reducer\";\nimport {MyPosts} from \"./MyPosts\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../../Redux/redux-store\";\n\n\nlet MapStateToStore = (state: RootStateType) => {\n    return {\n        posts: state.ProfilePage.posts,\n    }\n}\nlet MapDispatchToStore = (dispatch: (action: ProfileReducerType) => void) => {\n    return {\n        addPost: (postText: string) => {\n            dispatch(addPost(postText))\n        }\n\n    }\n}\n\nexport const MyPostsContainer = connect(MapStateToStore, MapDispatchToStore)(MyPosts)\n","import React from 'react';\nimport s from './Profile.module.css'\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\nimport {MyPostsContainer} from \"./MyPost/MyPostsContainer\";\nimport {ProfileType} from \"../../Redux/profile-reducer\";\n\ntype ProfilePropsType = {\n    profile: ProfileType | null\n    status: string\n    UpdateStatus: (status: string) => void\n}\n\nexport const Profile = (props: ProfilePropsType) => {\n    return (\n        <div className={s.content}>\n            <ProfileInfo profile={props.profile} status={props.status} UpdateStatus={props.UpdateStatus}/>\n            <MyPostsContainer/>\n        </div>\n    )\n}\n","import {authApi, profileApi} from \"../api/api\";\nimport {ProfileReducerType, setUserProfile} from \"./profile-reducer\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {Dispatch} from \"redux\";\nimport {stopSubmit} from \"redux-form\";\n\n//initial state\nlet initialState = {\n    userId: null,\n    login: null,\n    email: null,\n    isAuth: false\n}\n\n//reducer\nconst authReducer = (state: UserDataType = initialState, action: authReducerType): UserDataType => {\n    switch (action.type) {\n        case 'SET-USER-DATA': {\n            return {...state, ...action.data}\n        }\n        default:\n            return state\n    }\n}\n\n\n// types\nexport type UserDataType = {\n    userId: string | null\n    login: string | null\n    email: string | null\n    isAuth: boolean\n}\n\ntype setAuthUserType = ReturnType<typeof setAuthUserData>\nexport type authReducerType = setAuthUserType\n\n\nexport const setAuthUserData = (userId: string | null, login: string | null, email: string | null, isAuth: boolean) => ({\n    type: 'SET-USER-DATA',\n    data: {userId, login, email, isAuth}\n} as const)\n\n\n// thunks\nexport const getUserProfile = (userId: string) => async (dispatch: Dispatch<ProfileReducerType>) => {\n    const response = await profileApi.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\nexport const getAuthUserData = () => async (dispatch: Dispatch<authReducerType>) => {\n    const response = await authApi.me()\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data\n        dispatch(setAuthUserData(id, login, email, true))\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, any, unknown, any> => async (dispatch) => {\n    const response = await authApi.login(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        await dispatch(getAuthUserData())\n    } else {\n        const message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\n        dispatch(stopSubmit(\"login\", {_error: message}))\n    }\n}\n\nexport const logout = (): ThunkAction<void, any, unknown, authReducerType> => async (dispatch) => {\n    const response = await authApi.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer;","import React, {ComponentType} from 'react';\nimport {Profile} from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {ProfileType, SetStatus, setUserProfile, UpdateStatus} from \"../../Redux/profile-reducer\";\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\nimport {getUserProfile} from \"../../Redux/auth-reducer\";\nimport {compose} from \"redux\";\n\ntype MapStatePropsType = {\n    profile: ProfileType | null\n    isAuth: boolean\n    status: string\n}\n\ntype MapDispatchPropsType = {\n    setUserProfile: (profile: ProfileType) => void\n    getUserProfile: (userId: string) => void\n    SetStatus: (userId: string) => void\n    UpdateStatus: (status: string) => void\n}\ntype PathParamsType = {\n    userId: string\n}\n\nexport type ProfilePropsType = MapStatePropsType & MapDispatchPropsType\n\ntype PropsType = RouteComponentProps<PathParamsType> & ProfilePropsType\n\nclass ProfileContainer extends React.Component<PropsType> {\n\n    componentDidMount() {\n        let userId = this.props.match.params.userId\n        if (!userId) {\n            userId = '14575'\n        }\n        this.props.getUserProfile(userId)\n        this.props.SetStatus(userId)\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile profile={this.props.profile} status={this.props.status}\n                         UpdateStatus={this.props.UpdateStatus}/>\n            </div>\n        )\n    }\n\n}\n\nlet mapStateToProps = (state: RootStateType) => {\n    return {\n        profile: state.ProfilePage.profile\n        ,\n        isAuth: state.Auth.isAuth\n        ,\n        status: state.ProfilePage.status\n    }\n}\n\nexport default compose<ComponentType>(connect(mapStateToProps, {\n    setUserProfile,\n    getUserProfile,\n    SetStatus,\n    UpdateStatus\n}), withRouter)(ProfileContainer)","import React from 'react';\nimport s from './Header.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nimport {HeaderPropsType} from \"./HeaderContainer\";\n\nexport const Header = (props: HeaderPropsType) => {\n    return <div className={s.header}>\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCCmV4hdR0WwQdDksdPtHdYPSGo27bnOl0dA&usqp=CAU\" alt=\"img\"/>\n        <div className={s.loginBlock}>\n            {\n                props.isAuth? <div>{props.login} <button onClick={props.logout}>Log out</button></div> : <NavLink to={'/login'}>Login</NavLink>\n            }\n        </div>\n    </div>\n}","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {Header} from \"./Header\";\nimport {getAuthUserData, logout, setAuthUserData} from \"../../Redux/auth-reducer\";\n\nexport type HeaderPropsType = {\n    isAuth: boolean\n    login: string | null\n    getAuthUserData: () => void\n    logout: () => void\n}\n\n\nclass HeaderContainer extends React.Component<HeaderPropsType> {\n    componentDidMount() {\n        this.props.getAuthUserData()\n    }\n\n    render() {\n        return <>\n            <Header {...this.props} />\n        </>\n    }\n}\n\nconst mapStateToProps = (store: RootStateType) => {\n    return {\n        isAuth: store.Auth.isAuth,\n        login: store.Auth.login\n    }\n}\n\nexport default connect(mapStateToProps, {setAuthUserData, getAuthUserData, logout})(HeaderContainer)\n","import React from \"react\";\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControls\";\nimport {maxLengthCreator, requiredField} from \"../../Utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../Redux/auth-reducer\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {Redirect} from \"react-router-dom\";\nimport style from '../common/FormsControls/FormsControls.module.css'\n\n\ntype FormDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n}\n\ntype LoginPropsType = {\n    login: (email: string, password: string, rememberMe: boolean) => void\n    isAuth: boolean,\n}\nconst maxLength100 = maxLengthCreator(100)\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div><Field placeholder={'email'} name={'email'} component={Input}\n                        validate={[requiredField, maxLength100]}/>\n            </div>\n            <div><Field placeholder={'password'} name={'password'} type={'password'} component={Input}\n                        validate={[requiredField, maxLength100]}/></div>\n            <div><Field type={'checkbox'} name={'rememberMe'} component={Input}/>\n                remember me\n            </div>\n            <div className={style.formSummaryError}>\n                {props.error}\n            </div>\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm<FormDataType>({\n    form: 'login'\n})(LoginForm)\n\nconst Login = (props: LoginPropsType) => {\n    const onSubmit = (formData: FormDataType) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n    if (props.isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n    return (<div>\n            <h1>Login</h1>\n            <LoginReduxForm onSubmit={onSubmit}/>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n    return {\n        isAuth: state.Auth.isAuth,\n        userId: state.Auth.userId\n    }\n}\n\nexport default connect(mapStateToProps, {login})(Login)","import {ThunkAction} from \"redux-thunk\";\nimport {RootStateType} from \"./redux-store\";\nimport {getAuthUserData} from \"./auth-reducer\";\n\nlet initialState = {\n    initialized: false\n}\n\nexport const appReducer = (state: InitialStateType = initialState, action: ActionType): InitialStateType => {\n    switch (action.type) {\n        case \"SET-INITIALIZED\":\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n}\n\n\nexport const initializedSuccess = () => ({type: \"SET-INITIALIZED\"} as const)\n\ntype ActionType =\n    | SetInitializedType\n\ntype SetInitializedType = ReturnType<typeof initializedSuccess>\n\nexport const InitializeApp = (): ThunkAction<void, RootStateType, unknown, ActionType> => (dispatch) => {\n    let promise = dispatch(getAuthUserData())\n    promise.then(() => {\n        dispatch(initializedSuccess())\n    })\n}\n\ntype InitialStateType = typeof initialState\n\n","import React, {ComponentType} from 'react';\nimport './App.css';\nimport {Navbar} from \"./Components/Navbar/Navbar\";\nimport {HashRouter, Route, Switch, Redirect} from 'react-router-dom';\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nimport UserContainer from \"./Components/Users/UsersContainer\";\nimport ProfileContainer from './Components/Profile/ProfileContainer';\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport Login from \"./Components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"./Redux/redux-store\";\nimport {InitializeApp} from \"./Redux/app-reducer\";\nimport {Preloader} from \"./Components/common/Preloader/Preloader\";\nimport {compose} from \"redux\";\n\ntype MapStateToPropsType = {\n    initialized: boolean\n}\n\ntype MapDispatchToPropsType = {\n    InitializeApp: () => void\n}\n\ntype AppPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nclass App extends React.Component<AppPropsType> {\n    componentDidMount() {\n        this.props.InitializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <HashRouter>\n                <div className=\"App\">\n\n                    <HeaderContainer/>\n                    <Navbar/>\n                    <div className={\"App_content\"}>\n                        <Switch>\n                            <Route path={\"/\"} exact render={() => <Redirect to={'/profile'}/>}/>\n                            <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\n                            <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\n                            <Route path=\"/news\"/>\n                            <Route path=\"/music\"/>\n                            <Route path=\"/settings\"/>\n                            <Route path=\"/users\" render={() => <UserContainer/>}/>\n                            <Route path=\"/login\" render={() => <Login/>}/>\n                        </Switch>\n                    </div>\n                </div>\n            </HashRouter>\n        );\n    }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\nexport default compose<ComponentType>(connect(mapStateToProps, {InitializeApp}))(App);\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport dialogReducer from \"./dialog-reducer\";\nimport profileReducer from \"./profile-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport ThunkMiddleware from \"redux-thunk\";\nimport authReducer from \"./auth-reducer\";\nimport {reducer as formReducer} from 'redux-form'\nimport {appReducer} from \"./app-reducer\";\nlet reducers = combineReducers({\n    DialogPage: dialogReducer,\n    ProfilePage: profileReducer,\n    Users: usersReducer,\n    Auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\nlet store = createStore(reducers, applyMiddleware(ThunkMiddleware))\nexport type RootStateType = ReturnType<typeof reducers>\nexport default store;","import './index.css';\nimport App from './App';\nimport store from './Redux/redux-store'\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1dWpI\",\"active\":\"Navbar_active__3b0QJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2Arzz\",\"error\":\"FormsControls_error__1ZLMY\",\"formSummaryError\":\"FormsControls_formSummaryError__3q8eY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2r5Ge\",\"selectedPage\":\"Users_selectedPage__21xQ4\",\"pages\":\"Users_pages__3LeqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1rZ3k\",\"dialogItems\":\"Dialogs_dialogItems__PNT3P\",\"messages\":\"Dialogs_messages__285JR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__-tayL\",\"text\":\"Post_text__3c3Dz\",\"likes\":\"Post_likes__2Id0C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogsItem_dialogItem__2LSwQ\",\"active\":\"DialogsItem_active__3JhD6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1CGKd\",\"loginBlock\":\"Header_loginBlock__2dPsT\"};"],"sourceRoot":""}