(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[0],{111:function(e,t,s){e.exports={message:"Message_message__28aa8"}},114:function(e,t,s){e.exports={preloader:"Preloader_preloader__1X58S"}},115:function(e,t,s){e.exports={content:"Profile_content__33cQd"}},116:function(e,t,s){e.exports={description:"ProfileInfo_description__1FWdy",userImg:"ProfileInfo_userImg__3Lm_R"}},124:function(e,t,s){},125:function(e,t,s){},248:function(e,t,s){"use strict";s.r(t);var n=s(1),i=(s(124),s(0)),a=s.n(i),r=(s(125),s(10)),c=s(30),o=s.n(c),u=function(){return Object(n.jsx)("div",{className:o.a.nav,children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/profile",activeClassName:o.a.active,children:"Profile"})}),Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/dialogs",activeClassName:o.a.active,children:"Messages"})}),Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/news",activeClassName:o.a.active,children:"News"})}),Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/music",activeClassName:o.a.active,children:"Music"})}),Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/settings",activeClassName:o.a.active,children:"Settings"})}),Object(n.jsx)("li",{children:Object(n.jsx)(r.c,{to:"/users",activeClassName:o.a.active,children:"Users"})}),Object(n.jsx)("li",{})]})})},l=s(9),d=s(33),j=s(4),g="UPDATE-NEW-MESSAGE-BODY",h="SEND-MESSAGE",b={messages:[{id:1,message:"Hello, i'm first message"},{id:2,message:"Hello, I'm second message"},{id:3,message:"Hello, I'm third message"},{id:4,message:"Hello, I'm fourth message"}],dialogs:[{id:1,name:"Anna"},{id:1,name:"Roman"},{id:1,name:"Renat"},{id:1,name:"Anatoly"}],newMessageBody:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var s=Object(j.a)({},e);return s.newMessageBody=t.body,s;case h:var n=e.newMessageBody.trim(),i=Object(j.a)(Object(j.a)({},e),{},{messages:Object(d.a)(e.messages)});return n&&(i.newMessageBody="",i.messages.push({id:6,message:n})),Object(j.a)({},i);default:return e}},f=s(54),m=s.n(f),O=s(76),A=s.n(O),x=function(e){return Object(n.jsx)("div",{className:A.a.dialogItem,children:Object(n.jsx)(r.c,{to:"/dialogs/",className:A.a.dialogItem,children:e.name})})},v=s(111),E=s.n(v),I=function(e){return Object(n.jsx)("div",{className:E.a.message,children:e.message})},U=s(11),w=s(8),P=s(119),L=function(e){return{isAuth:e.Auth.isAuth}};function R(e){return Object(U.b)(L)((function(t){var s=t.isAuth,i=Object(P.a)(t,["isAuth"]);return s?Object(n.jsx)(e,Object(j.a)({},i)):Object(n.jsx)(l.a,{to:"/login"})}))}var F=Object(w.d)(R,Object(U.b)((function(e){return{dialogPage:e.DialogPage,isAuth:e.Auth.isAuth}}),(function(e){return{newMessageChange:function(t){e({type:g,body:t})},sendMessage:function(){return e({type:h})}}})))((function(e){var t=e.dialogPage.dialogs.map((function(e,t){return Object(n.jsx)(x,{name:e.name},t)})),s=e.dialogPage.messages.map((function(e,t){return Object(n.jsx)(I,{message:e.message},t)})),i=e.dialogPage.newMessageBody;return e.isAuth?Object(n.jsxs)("div",{className:m.a.dialogs,children:[Object(n.jsx)("div",{className:m.a.dialogsItems,children:t}),Object(n.jsxs)("div",{className:m.a.messages,children:[Object(n.jsx)("div",{children:s}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{value:i,placeholder:"Enter your message",onChange:function(t){var s=t.target.value;e.newMessageChange(s)},onKeyPress:function(t){return function(t){"Enter"===t.key&&e.sendMessage()}(t)}})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){e.sendMessage()},children:"Send"})})]})]})]}):Object(n.jsx)(l.a,{to:"/login"})})),y=s(25),N=s(26),S=s(29),C=s(28),D=s(113),M=s.n(D).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"8c49b133-928a-4a57-b997-bbf0ea6abb17"}}),T=function(e,t){return M.get("/users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},H=function(e){return M.post("/follow/".concat(e)).then((function(e){return e.data}))},Q=function(e){return M.delete("/follow/".concat(e)).then((function(e){return e.data}))},X=function(e){return M.get("/profile/".concat(e))},B=function(e){return M.get("/profile/status/".concat(e))},k=function(e){return M.put("/profile/status",{status:e})},G=function(e){return console.warn("Obsolete method. Use profileApi object"),X(e)},W=function(){return M.get("/auth/me")},z="FOLLOW",Z="UNFOLLOW",q="SET_USERS",V="SET_CURRENT_PAGE",Y="SET_TOTAL_USERS_COUNT",K="TOGGLE_IS_FETCHING",J="TOGGLE_IS_FOLLOWING_PROGRESS",_={users:[],currentPage:1,pageSize:10,totalUserCount:0,isFetching:!1,toggleIsFollowing:[]},$=function(e){return{type:q,users:e}},ee=function(e){return{type:V,currentPage:e}},te=function(e){return{type:K,isFetching:e}},se=function(e,t){return{type:J,isFetching:e,id:t}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case Z:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case q:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case V:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case Y:return Object(j.a)(Object(j.a)({},e),{},{totalUserCount:t.totalUsersCount});case K:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case J:return Object(j.a)(Object(j.a)({},e),{},{toggleIsFollowing:t.isFetching?[].concat(Object(d.a)(e.toggleIsFollowing),[t.id]):Object(d.a)(e.toggleIsFollowing.filter((function(e){return e!==t.id})))});default:return e}},ie=s(78),ae=s.n(ie);function re(e){for(var t=Math.ceil(e.totalUserCount/e.pageSize),s=[],i=1;i<=t;i++)s.push(i);return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:ae.a.users,children:[s.map((function(t,s){return Object(n.jsxs)("span",{className:e.currentPage===t?ae.a.selectedPage:"",onClick:function(s){return e.onPageChanged(t)},children:[t,"/"]},s)})),e.users.map((function(t,s){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:t.name}),Object(n.jsx)("div",{children:t.status?t.status:"I don't have a status"}),Object(n.jsx)("div",{children:t.followed?Object(n.jsx)("button",{disabled:e.toggleIsFollowing.some((function(e){return t.id===e})),onClick:function(){e.unfollowUser(t.id)},children:"Unfollow"}):Object(n.jsx)("button",{disabled:e.toggleIsFollowing.some((function(e){return t.id===e})),onClick:function(){e.followUser(s),e.followUser(t.id)},children:"Follow"})}),Object(n.jsx)("div",{children:t.status}),Object(n.jsx)(r.c,{to:"/profile/".concat(t.id),children:Object(n.jsx)("img",{src:null!==t.photos.small?t.photos.small:"data:image/jpeg;base64,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"})})]},s)}))]})})}var ce=s(260),oe=s(114),ue=s.n(oe);function le(){return Object(n.jsx)("div",{className:ue.a.preloader,children:Object(n.jsx)(ce.a,{color:"secondary"})})}var de=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){var e;Object(y.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(N.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[this.props.isFetching?Object(n.jsx)(le,{}):null,Object(n.jsx)(re,{users:this.props.users,currentPage:this.props.currentPage,followUser:this.props.followUser,onPageChanged:this.onPageChanged,pageSize:this.props.pageSize,setCurrentPage:this.props.setCurrentPage,totalUserCount:this.props.totalUserCount,unfollowUser:this.props.unfollowUser,toggleFollowingProgress:this.props.toggleFollowingProgress,toggleIsFollowing:this.props.toggleIsFollowing})]})}}]),s}(a.a.Component),je=Object(w.d)(Object(U.b)((function(e){return{users:e.Users.users,pageSize:e.Users.pageSize,totalUserCount:e.Users.totalUserCount,currentPage:e.Users.currentPage,isFetching:e.Users.isFetching,toggleIsFollowing:e.Users.toggleIsFollowing}}),{followUser:function(e){return function(t){t(se(!0,e)),H(e).then((function(s){0===s.resultCode&&t(function(e){return{type:z,userId:e}}(e)),t(se(!1,e))}))}},unfollowUser:function(e){return function(t){t(se(!0,e)),Q(e).then((function(s){0===s.resultCode&&t(function(e){return{type:Z,userId:e}}(e)),t(se(!1,e))}))}},setUsers:$,setCurrentPage:ee,toggleFollowingProgress:se,getUsers:function(e,t){return function(s){s(te(!0)),T(e,t).then((function(t){var n;s(te(!1)),s($(t.items)),s((n=t.totalCount,{type:Y,totalUsersCount:n})),s(ee(e))}))}}}),R)(de),ge=s(115),he=s.n(ge),be=s(116),pe=s.n(be),fe=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){var e;Object(y.a)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(t){e.setState({editMode:!1}),e.props.UpdateStatus(t)},e.onChangeHandler=function(t){e.setState({status:t.currentTarget.value})},e}return Object(N.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[!this.state.editMode&&Object(n.jsx)("div",{children:Object(n.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"------"})}),this.state.editMode&&Object(n.jsx)("div",{children:Object(n.jsx)("input",{autoFocus:!0,onBlur:function(t){return e.deactivateEditMode(t.currentTarget.value)},value:this.state.status,onChange:this.onChangeHandler})})]})}}]),s}(a.a.Component);function me(e){if(!e.profile)return Object(n.jsx)(le,{});var t=null!==e.profile.photos.small?e.profile.photos.small:e.profile.photos.large;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:pe.a.userImg,children:null!==t&&Object(n.jsx)("img",{src:e.profile.photos.large,width:"100",alt:"img"})}),Object(n.jsx)(fe,{status:e.status,UpdateStatus:e.UpdateStatus})]})}var Oe="ADD-POST",Ae="UPDATE-NEW-POST-TEXT",xe="SET-USER-PROFILE",ve={posts:[{id:1,message:"Its a first post",likes:3},{id:2,message:"Its a second post",likes:3},{id:3,message:"Its a third post",likes:3},{id:4,message:"Its a fourth post",likes:3},{id:5,message:"Its a fifth post",likes:3}],newText:"",profile:null,status:""},Ee=function(e){return{type:xe,profile:e}},Ie=function(e){return{type:"SET-STATUS",status:e}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:var s=e.newText.trim(),n=Object(j.a)(Object(j.a)({},e),{},{posts:Object(d.a)(e.posts)});if(s){var i={id:1,message:s,likes:5};n.posts.push(i),n.newText=""}return n;case Ae:return e.newText=t.newText,Object(j.a)({},e);case xe:return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});default:return e}},we=s(55),Pe=s.n(we),Le=s(56),Re=s.n(Le),Fe=function(e){return Object(n.jsxs)("div",{className:Re.a.post,children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://thumbs-prod.si-cdn.com/IjbgoCcHvUa6ISjPAvS8T6DTHA8=/fit-in/1600x0/https://public-media.si-cdn.com/filer/97/2c/972c4531-0552-4a49-b51b-4cdb5066bd1d/tacc1157_05_faceright_10k_rgb.jpg",alt:"img"})}),Object(n.jsxs)("div",{className:Re.a.text,children:[" ",e.message]}),Object(n.jsxs)("div",{className:Re.a.likes,children:[" likes ",e.likes]})]})},ye=Object(U.b)((function(e){return{posts:e.ProfilePage.posts,newPostText:e.ProfilePage.newText}}),(function(e){return{addPost:function(){e({type:Oe})},updateText:function(t){e({type:Ae,newText:t})}}}))((function(e){var t=e.posts.map((function(e,t){return Object(n.jsx)(Fe,{id:e.id,message:e.message,likes:e.likes},t)})),s=a.a.createRef();return Object(n.jsxs)("div",{className:Pe.a.mypost,children:[Object(n.jsx)("textarea",{ref:s,value:e.newPostText,onChange:function(){var t,n=null===(t=s.current)||void 0===t?void 0:t.value;void 0!==n&&e.updateText(n)},onKeyPress:function(t){return function(t){"Enter"===t.key&&e.addPost()}(t)}}),Object(n.jsx)("button",{className:Pe.a.button,onClick:function(){e.addPost()},children:"Add post"}),Object(n.jsx)("div",{className:Pe.a.posts,children:t})]})})),Ne=function(e){return Object(n.jsxs)("div",{className:he.a.content,children:[Object(n.jsx)(me,{profile:e.profile,status:e.status,UpdateStatus:e.UpdateStatus}),Object(n.jsx)(ye,{})]})},Se={userId:null,login:null,email:null,isAuth:!1},Ce=function(e,t,s,n){return{type:"SET-USER-DATA",data:{userId:e,login:t,email:s,isAuth:n}}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.data),{},{isAuth:!0});default:return e}},Me=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){return Object(y.a)(this,s),t.apply(this,arguments)}return Object(N.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="14575"),this.props.getUserProfile(e),this.props.SetStatus(e)}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(Ne,{profile:this.props.profile,status:this.props.status,UpdateStatus:this.props.UpdateStatus})})}}]),s}(a.a.Component),Te=Object(w.d)(Object(U.b)((function(e){return{profile:e.ProfilePage.profile,isAuth:e.Auth.isAuth,status:e.ProfilePage.status}}),{setUserProfile:Ee,getUserProfile:function(e){return function(t){G(e).then((function(e){t(Ee(e.data))}))}},SetStatus:function(e){return function(t){B(e).then((function(e){t(Ie(e.data))}))}},UpdateStatus:function(e){return function(t){k(e).then((function(s){0===s.data.resultCode&&t(Ie(e))}))}}}),l.g)(Me),He=s(79),Qe=s.n(He),Xe=function(e){return Object(n.jsxs)("div",{className:Qe.a.header,children:[Object(n.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCCmV4hdR0WwQdDksdPtHdYPSGo27bnOl0dA&usqp=CAU",alt:"img"}),Object(n.jsx)("div",{className:Qe.a.loginBlock,children:e.isAuth?Object(n.jsx)("span",{children:e.login}):Object(n.jsx)(r.c,{to:"/login",children:"Login"})})]})},Be=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){return Object(y.a)(this,s),t.apply(this,arguments)}return Object(N.a)(s,[{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Xe,Object(j.a)({},this.props))})}}]),s}(a.a.Component),ke=Object(U.b)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login}}),{setAuthUserData:Ce,authMe:function(){return function(e){W().then((function(t){if(0===t.data.resultCode){var s=t.data.data,n=s.id,i=s.login,a=s.email;e(Ce(n,i,a,!0))}}))}}})(Be),Ge=s(262),We=s(261),ze=Object(We.a)({form:"login"})((function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)("div",{children:Object(n.jsx)(Ge.a,{placeholder:"login",name:"login",component:"input"})}),Object(n.jsx)("div",{children:Object(n.jsx)(Ge.a,{placeholder:"password",name:"password",component:"input"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ge.a,{type:"checkbox",name:"rememberMe",component:"input"}),"remember me"]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{children:"Login"})})]})})),Ze=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsx)(ze,{onSubmit:function(e){}})]})};var qe=function(){return Object(n.jsx)(r.b,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(ke,{}),Object(n.jsx)(u,{}),Object(n.jsx)("div",{className:"App_content",children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(l.a,{to:"/profile"})}}),Object(n.jsx)(l.b,{path:"/profile/:userId?",render:function(){return Object(n.jsx)(Te,{})}}),Object(n.jsx)(l.b,{path:"/dialogs",render:function(){return Object(n.jsx)(F,{})}}),Object(n.jsx)(l.b,{path:"/news"}),Object(n.jsx)(l.b,{path:"/music"}),Object(n.jsx)(l.b,{path:"/settings"}),Object(n.jsx)(l.b,{path:"/users",render:function(){return Object(n.jsx)(je,{})}}),Object(n.jsx)(l.b,{path:"/login",render:function(){return Object(n.jsx)(Ze,{})}})]})})]})})},Ve=s(118),Ye=s(263),Ke=Object(w.c)({DialogPage:p,ProfilePage:Ue,Users:ne,Auth:De,form:Ye.a}),Je=Object(w.e)(Ke,Object(w.a)(Ve.a)),_e=s(52);s.n(_e).a.render(Object(n.jsx)(r.a,{children:Object(n.jsx)(U.a,{store:Je,children:Object(n.jsx)(qe,{})})}),document.getElementById("root"))},30:function(e,t,s){e.exports={nav:"Navbar_nav__1dWpI",active:"Navbar_active__3b0QJ"}},54:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__1rZ3k",dialogItems:"Dialogs_dialogItems__PNT3P",messages:"Dialogs_messages__285JR"}},55:function(e,t,s){e.exports={mypost:"MyPosts_mypost__c-Uf_",button:"MyPosts_button__3JaKz"}},56:function(e,t,s){e.exports={post:"Post_post__-tayL",text:"Post_text__3c3Dz",likes:"Post_likes__2Id0C"}},76:function(e,t,s){e.exports={dialogItem:"DialogsItem_dialogItem__2LSwQ",active:"DialogsItem_active__3JhD6"}},78:function(e,t,s){e.exports={users:"Users_users__2r5Ge",selectedPage:"Users_selectedPage__21xQ4",pages:"Users_pages__3LeqV"}},79:function(e,t,s){e.exports={header:"Header_header__1CGKd",loginBlock:"Header_loginBlock__2dPsT"}}},[[248,1,2]]]);
//# sourceMappingURL=main.d4e21b24.chunk.js.map