{"version":3,"sources":["Redux/auth-reducer.ts","Components/Navbar/Navbar.tsx","Utils/object-helpers.ts","Redux/users-reducer.ts","Components/Users/User/User.tsx","Components/Users/Pagination/Pagination.tsx","Components/Users/UsersComponent.tsx","Redux/users-selector.ts","Components/Users/UsersContainer.tsx","Components/Header/Header.tsx","Components/Header/HeaderContainer.tsx","Redux/app-reducer.ts","hoc/withSuspense.tsx","App.tsx","Redux/redux-store.ts","AppContainer.tsx","index.tsx","Components/Navbar/Navbar.module.css","Components/common/Preloader/Preloader.tsx","Redux/profile-reducer.ts","Components/Users/Pagination/Pagination.module.css","Components/Header/Header.module.css","api/api.tsx","assets/images.jpeg","hoc/WithAuthRedirect.tsx","Redux/dialog-reducer.ts","Components/Users/Users.module.css","Components/common/Preloader/Preloader.module.css"],"names":["initialState","userId","login","email","isAuth","captchaUrl","setAuthUserData","type","data","setCaptchaUrl","getUserProfile","dispatch","a","profileApi","getProfile","response","setUserProfile","getAuthUserData","authApi","me","resultCode","id","password","rememberMe","captcha","getCaptchaUrl","message","messages","length","stopSubmit","_error","logout","securityApi","getCaptcha","url","authReducer","state","action","Navbar","className","s","nav","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","currentPage","pageSize","totalUserCount","isFetching","toggleIsFollowing","followUserSuccess","unFollowUserSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalUsersCount","filter","User","key","user","followUser","unfollowUser","name","status","disabled","some","onClick","src","photos","small","UserImg","alt","Pagination","totalItemsCount","portionSize","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","p","page","Users","props","getUsers","getPageSize","getCurrentPage","getTotalUsersCount","getIsFollowing","getIsFetching","UsersContainer","pageNumber","this","Preloader","React","Component","compose","connect","UsersApi","bind","totalCount","WithAuthRedirect","Header","header","loginBlock","HeaderContainer","store","Auth","initialized","InitializeApp","then","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","path","exact","render","app","reducers","combineReducers","DialogPage","dialogReducer","ProfilePage","profileReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","ThunkMiddleware","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","module","exports","preloader","color","posts","likes","profile","addPost","postText","setStatus","SetStatus","UpdateStatus","title","updateStatus","setPhoto","file","saveProfile","getState","finalErrorMessage","split","toLowerCase","Promise","reject","text","trim","stateCopy","newPost","post","postId","instance","axios","create","baseURL","withCredentials","headers","get","delete","put","photo","formData","FormData","append","setProfile","console","warn","MapStateToProps","restProps","SEND_MESSAGE","dialogs","SendMessageAC"],"mappings":"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","file":"static/js/main.d94cbdbc.chunk.js","sourcesContent":["import {authApi, profileApi, securityApi} from \"../api/api\";\nimport {ProfileReducerType, setUserProfile} from \"./profile-reducer\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {Dispatch} from \"redux\";\nimport {stopSubmit} from \"redux-form\";\n\n//initial state\nlet initialState = {\n    userId: null,\n    login: null,\n    email: null,\n    isAuth: false,\n    captchaUrl: null\n}\n\n//reducer\nconst authReducer = (state: UserDataType = initialState, action: authReducerType): UserDataType => {\n    switch (action.type) {\n        case 'SET-USER-DATA': {\n            return {...state, ...action.data}\n        }\n        case 'SET-CAPTCHA-URL':\n            return {\n                ...state,\n                captchaUrl: action.captchaUrl\n            }\n        default:\n            return state\n    }\n}\n\n\n// types\nexport type UserDataType = {\n    userId: string | null\n    login: string | null\n    email: string | null\n    isAuth: boolean\n    captchaUrl: string | null\n}\n\ntype setAuthUserType = ReturnType<typeof setAuthUserData>\ntype setCaptchaUrlType = ReturnType<typeof setCaptchaUrl>\nexport type authReducerType =\n    | setAuthUserType\n    | setCaptchaUrlType\n\n\nexport const setAuthUserData = (userId: string | null, login: string | null, email: string | null, isAuth: boolean) => ({\n    type: 'SET-USER-DATA',\n    data: {userId, login, email, isAuth}\n} as const)\nexport const setCaptchaUrl = (captchaUrl: string | null) => ({\n    type: 'SET-CAPTCHA-URL',\n    captchaUrl\n} as const)\n\n\n// thunks\nexport const getUserProfile = (userId: string) => async (dispatch: Dispatch<ProfileReducerType>) => {\n    const response = await profileApi.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\nexport const getAuthUserData = () => async (dispatch: Dispatch<authReducerType>) => {\n    const response = await authApi.me()\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data\n        dispatch(setAuthUserData(id, login, email, true))\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkAction<void, any, unknown, any> => async (dispatch) => {\n    const response = await authApi.login(email, password, rememberMe, captcha)\n    if (response.data.resultCode === 0) {\n        await dispatch(getAuthUserData())\n        await dispatch(setCaptchaUrl(null))\n\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl())\n        }\n        const message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\n        dispatch(stopSubmit(\"login\", {_error: message}))\n    }\n}\n\nexport const logout = (): ThunkAction<void, any, unknown, authReducerType> => async (dispatch) => {\n    const response = await authApi.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport const getCaptchaUrl = (): ThunkAction<void, any, unknown, any> => async (dispatch) => {\n    const response = await securityApi.getCaptcha()\n    dispatch(setCaptchaUrl(response.data.url))\n}\nexport default authReducer;","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport s from './Navbar.module.css'\n\nexport const Navbar = () => {\n    return <div className={s.nav}>\n        <ul>\n            <li><NavLink to={\"/profile\"} activeClassName={s.active}>Profile</NavLink></li>\n            <li><NavLink to={\"/dialogs\"} activeClassName={s.active}>Messages</NavLink></li>\n            <li><NavLink to={\"/news\"} activeClassName={s.active}>News</NavLink></li>\n            <li><NavLink to={\"/music\"} activeClassName={s.active}>Music</NavLink></li>\n            <li><NavLink to={\"/settings\"} activeClassName={s.active}>Settings</NavLink></li>\n            <li><NavLink to={\"/users\"} activeClassName={s.active}>Users</NavLink></li>\n            <li>\n            </li>\n        </ul>\n    </div>\n}","export const updateObjectInArray = (items: Array<any>, itemId: number, objPropName: string, newObjProps: Object) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u;\n    })\n}","import {UsersApi} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {updateObjectInArray} from \"../Utils/object-helpers\";\n\n\n//initial state\nlet initialState = {\n    users: [],\n    currentPage: 1,\n    pageSize: 10,\n    totalUserCount: 0,\n    isFetching: false,\n    toggleIsFollowing: []\n}\n\n//reducer\nconst usersReducer = (state: UsersType = initialState, action: UsersReducerType): UsersType => {\n    switch (action.type) {\n        case \"FOLLOW\":\n            return {...state, users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})}\n        case \"UNFOLLOW\":\n            return {...state, users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})}\n        case \"SET_USERS\":\n            return {...state, users: action.users}\n        case \"SET_CURRENT_PAGE\":\n            return {...state, currentPage: action.currentPage}\n        case \"SET_TOTAL_USERS_COUNT\":\n            return {...state, totalUserCount: action.totalUsersCount}\n        case \"TOGGLE_IS_FETCHING\":\n            return {...state, isFetching: action.isFetching}\n        case \"TOGGLE_IS_FOLLOWING_PROGRESS\":\n            return {\n                ...state,\n                toggleIsFollowing: action.isFetching\n                    ? [...state.toggleIsFollowing, action.id]\n                    : [...state.toggleIsFollowing.filter(id => id !== action.id)]\n            }\n        default:\n            return state;\n    }\n}\n\n// types\nexport type UserType = {\n    name: string\n    id: number\n    uniqueUrlName: string | null,\n    photos: {\n        small: string | null\n        large: string | null\n    },\n    status: string | null\n    \"followed\": boolean\n}\nexport type UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUserCount: number\n    currentPage: number\n    isFetching: boolean\n    toggleIsFollowing: Array<number>\n\n}\n\ntype FollowUserType = ReturnType<typeof followUserSuccess>\ntype UnfollowUserType = ReturnType<typeof unFollowUserSuccess>\ntype SetUsersType = ReturnType<typeof setUsers>\ntype SetCurrentPage = ReturnType<typeof setCurrentPage>\ntype SetTotalUserCount = ReturnType<typeof setTotalUsersCount>\ntype ToggleIsFetching = ReturnType<typeof toggleIsFetching>\nexport type toggleFollowingProgressType = ReturnType<typeof toggleFollowingProgress>\n\nexport type UsersReducerType =\n    | FollowUserType\n    | UnfollowUserType\n    | SetUsersType\n    | SetCurrentPage\n    | SetTotalUserCount\n    | ToggleIsFetching\n    | toggleFollowingProgressType\n\n\n// action creators\nexport const followUserSuccess = (userId: number) => ({type: \"FOLLOW\", userId} as const)\nexport const unFollowUserSuccess = (userId: number) => ({type: \"UNFOLLOW\", userId} as const)\nexport const setUsers = (users: Array<UserType>) => ({type: \"SET_USERS\", users: users} as const)\nexport const setCurrentPage = (currentPage: number) => ({type: \"SET_CURRENT_PAGE\", currentPage} as const)\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\n    type: \"SET_TOTAL_USERS_COUNT\",\n    totalUsersCount\n} as const)\nexport const toggleIsFetching = (isFetching: boolean) => ({type: \"TOGGLE_IS_FETCHING\", isFetching} as const)\nexport const toggleFollowingProgress = (isFetching: boolean, id: number) => ({\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\n    isFetching,\n    id\n} as const)\n\n//helpers\nexport const followUnfollowFlow = async (dispatch: Dispatch<UsersReducerType>, userId: number, apiMethod: Function, actionCreator: Function) => {\n    const response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\n\n\n// thunks\nexport const getUsersAC = (currentPage: number, pageSize: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleIsFetching(true))\n    const response = await UsersApi.getUsers(currentPage, pageSize)\n    dispatch(toggleIsFetching(false))\n    dispatch(setUsers(response.items))\n    dispatch(setTotalUsersCount(response.totalCount))\n    dispatch(setCurrentPage(currentPage))\n}\n\nexport const unfollowUser = (userId: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    await followUnfollowFlow(dispatch, userId, UsersApi.unfollowUser.bind(UsersApi), unFollowUserSuccess)\n\n}\n\nexport const followUser = (userId: number) => async (dispatch: Dispatch<UsersReducerType>) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    await followUnfollowFlow(dispatch, userId, UsersApi.followUser.bind(UsersApi), followUserSuccess)\n}\n\n\nexport default usersReducer","import {NavLink} from \"react-router-dom\";\nimport UserImg from \"../../../assets/images.jpeg\";\nimport React from \"react\";\nimport {UserType} from \"../../../Redux/users-reducer\";\n\ntype PropsType = {\n    user: UserType\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    toggleIsFollowing: Array<number>\n}\n\nexport const User: React.FC<PropsType> = ({user, followUser, unfollowUser, toggleIsFollowing}, key) => {\n    return (\n        <div key={key}>\n            <div>{user.name}</div>\n            <div>{user.status ? user.status : \"I don't have a status\"}</div>\n            <div>{user.followed ?\n                <button disabled={toggleIsFollowing.some(id => user.id === id)} onClick={() => {\n                    unfollowUser(user.id)\n                }\n                }>\n                    Unfollow\n                </button> :\n                <button disabled={toggleIsFollowing.some(id => user.id === id)} onClick={() => {\n                    followUser(user.id)\n                }}>Follow</button>}</div>\n            <div>{user.status}</div>\n            <NavLink to={`/profile/${user.id}`}>\n                <img src={user.photos.small !== null ? user.photos.small : UserImg} alt={'user'}/>\n            </NavLink>\n        </div>\n    )\n}","import React, {useState} from \"react\";\nimport s from './Pagination.module.css'\n\ntype PaginationPropsType = {\n    totalItemsCount: number\n    portionSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n}\n\nexport const Pagination: React.FC<PaginationPropsType> = ({\n                                                              totalItemsCount,\n                                                              portionSize,\n                                                              currentPage,\n                                                              onPageChanged\n                                                          }) => {\n    let pagesCount = Math.ceil(totalItemsCount / portionSize)\n\n    let pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize)\n    const [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionNumber = (portionNumber - 1) * portionSize;\n    let rightPortionNumber = portionNumber * portionSize;\n    const setPage = (pageNumber: number) => {\n        onPageChanged(pageNumber);\n    }\n    return (\n        <>\n            {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREVIOUS</button>}\n            {pages.filter(p => p > leftPortionNumber && p <= rightPortionNumber)\n                .map(p => {\n                    return <span key={p} onClick={() => setPage(p)}\n                                 className={currentPage === p ? `${s.page} ${s.currentPage}` : s.page}> {p}</span>\n                })\n            }\n            {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\n        </>\n    )\n}","import React from \"react\";\nimport s from './Users.module.css'\nimport {UserType} from \"../../Redux/users-reducer\";\nimport {User} from \"./User/User\";\nimport {Pagination} from \"./Pagination/Pagination\";\n\ntype UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUserCount: number\n    currentPage: number\n    toggleIsFollowing: Array<number>\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    setCurrentPage: (currentPage: number) => void\n    onPageChanged: (pageNumber: number) => void\n    toggleFollowingProgress: (isFetching: boolean, id: number) => void\n}\n\n\nexport function Users(props: UsersType) {\n\n    return <div>\n        <div className={s.users}>\n            <Pagination currentPage={props.currentPage} onPageChanged={props.onPageChanged} portionSize={props.pageSize}\n                        totalItemsCount={props.totalUserCount}/>\n            {props.users.map((u) => <User key={u.id} user={u} unfollowUser={props.unfollowUser}\n                                          followUser={props.followUser}\n                                          toggleIsFollowing={props.toggleIsFollowing}/>)}\n        </div>\n    </div>\n}","import {RootStateType} from \"./redux-store\";\n\nexport const getUsers = (state: RootStateType) => {\n    return state.Users.users\n}\n\nexport const getPageSize = (state: RootStateType) => {\n    return state.Users.pageSize\n}\n\nexport const getCurrentPage = (state: RootStateType) => {\n    return state.Users.currentPage\n}\n\nexport const getTotalUsersCount = (state: RootStateType) => {\n    return state.Users.totalUserCount\n}\n\nexport const getIsFollowing = (state: RootStateType) => {\n    return state.Users.toggleIsFollowing\n}\n\nexport const getIsFetching = (state: RootStateType) => {\n    return state.Users.isFetching\n}\n\n","import React, {ComponentType} from \"react\";\nimport {connect} from \"react-redux\";\nimport {\n    followUser,\n    setCurrentPage,\n    setUsers,\n    unfollowUser,\n    toggleFollowingProgress, getUsersAC, UserType\n} from \"../../Redux/users-reducer\";\nimport {Users} from './UsersComponent'\nimport {Preloader} from \"../common/Preloader/Preloader\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getIsFetching,\n    getIsFollowing,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../Redux/users-selector\";\n\ntype UsersType = {\n    users: Array<UserType>\n    pageSize: number,\n    totalUserCount: number,\n    currentPage: number\n    isFetching: boolean\n    toggleIsFollowing: Array<number>\n    followUser: (id: number) => void\n    unfollowUser: (id: number) => void\n    setCurrentPage: (currentPage: number) => void\n    toggleFollowingProgress: (isFetching: boolean, id: number) => void\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\nexport class UsersContainer extends React.Component<UsersType> {\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        this.props.getUsers(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users users={this.props.users} currentPage={this.props.currentPage} followUser={this.props.followUser}\n                   onPageChanged={this.onPageChanged} pageSize={this.props.pageSize}\n                   setCurrentPage={this.props.setCurrentPage} totalUserCount={this.props.totalUserCount}\n                   unfollowUser={this.props.unfollowUser}\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\n                   toggleIsFollowing={this.props.toggleIsFollowing}\n            />\n        </>\n    }\n}\n\nlet MapStateToProps = (state: RootStateType) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUserCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        toggleIsFollowing: getIsFollowing(state)\n\n    }\n}\n\nexport default compose<ComponentType>(connect(MapStateToProps, {\n    followUser,\n    unfollowUser,\n    setUsers,\n    setCurrentPage,\n    toggleFollowingProgress,\n    getUsers: getUsersAC\n}), WithAuthRedirect)(UsersContainer)","import React from 'react';\nimport s from './Header.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nimport {HeaderPropsType} from \"./HeaderContainer\";\n\nexport const Header = (props: HeaderPropsType) => {\n    return <div className={s.header}>\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCCmV4hdR0WwQdDksdPtHdYPSGo27bnOl0dA&usqp=CAU\" alt=\"img\"/>\n        <div className={s.loginBlock}>\n            {\n                props.isAuth? <div>{props.login} <button onClick={props.logout}>Log out</button></div> : <NavLink to={'/login'}>Login</NavLink>\n            }\n        </div>\n    </div>\n}","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../Redux/redux-store\";\nimport {Header} from \"./Header\";\nimport {getAuthUserData, logout, setAuthUserData} from \"../../Redux/auth-reducer\";\n\nexport type HeaderPropsType = {\n    isAuth: boolean\n    login: string | null\n    getAuthUserData: () => void\n    logout: () => void\n}\n\n\nclass HeaderContainer extends React.Component<HeaderPropsType> {\n    componentDidMount() {\n        this.props.getAuthUserData()\n    }\n\n    render() {\n        return <>\n            <Header {...this.props} />\n        </>\n    }\n}\n\nconst mapStateToProps = (store: RootStateType) => {\n    return {\n        isAuth: store.Auth.isAuth,\n        login: store.Auth.login\n    }\n}\n\nexport default connect(mapStateToProps, {setAuthUserData, getAuthUserData, logout})(HeaderContainer)\n","import {ThunkAction} from \"redux-thunk\";\nimport {RootStateType} from \"./redux-store\";\nimport {getAuthUserData} from \"./auth-reducer\";\n\nlet initialState = {\n    initialized: false\n}\n\nexport const appReducer = (state: InitialStateType = initialState, action: ActionType): InitialStateType => {\n    switch (action.type) {\n        case \"SET-INITIALIZED\":\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n}\n\n\nexport const initializedSuccess = () => ({type: \"SET-INITIALIZED\"} as const)\n\ntype ActionType =\n    | SetInitializedType\n\ntype SetInitializedType = ReturnType<typeof initializedSuccess>\n\nexport const InitializeApp = (): ThunkAction<void, RootStateType, unknown, ActionType> => (dispatch) => {\n    let promise = dispatch(getAuthUserData())\n    promise.then(() => {\n        dispatch(initializedSuccess())\n    })\n}\n\ntype InitialStateType = typeof initialState\n\n","import React, {ComponentType} from \"react\";\nimport {Preloader} from \"../Components/common/Preloader/Preloader\";\n\nexport function withSuspense(Component: ComponentType) {\n    return (props: any) => {\n        return  <React.Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </React.Suspense>\n    }\n}","import React, {ComponentType} from 'react';\nimport './App.css';\nimport {Navbar} from \"./Components/Navbar/Navbar\";\nimport {HashRouter, Route, Switch, Redirect} from 'react-router-dom';\nimport UserContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"./Redux/redux-store\";\nimport {InitializeApp} from \"./Redux/app-reducer\";\nimport {Preloader} from \"./Components/common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./Components/Dialogs/DialogsContainer\"))\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'))\nconst Login = React.lazy(() => import(\"./Components/Login/Login\"))\ntype MapStateToPropsType = {\n    initialized: boolean\n}\n\ntype MapDispatchToPropsType = {\n    InitializeApp: () => void\n}\n\ntype AppPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nclass App extends React.Component<AppPropsType> {\n    componentDidMount() {\n        this.props.InitializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <HashRouter>\n                <div className=\"App\">\n\n                    <HeaderContainer/>\n                    <Navbar/>\n                    <div className={\"App_content\"}>\n                        <Switch>\n                            <Route path={\"/\"} exact render={() => <Redirect to={'/profile'}/>}/>\n                            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n                            <Route path=\"/news\"/>\n                            <Route path=\"/music\"/>\n                            <Route path=\"/settings\"/>\n                            <Route path=\"/users\" render={() => <UserContainer/>}/>\n                            <Route path=\"/login\" render={withSuspense(Login)}/>\n                        </Switch>\n                    </div>\n                </div>\n            </HashRouter>\n        );\n    }\n}\n\nconst mapStateToProps = (state: RootStateType) => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\nexport default compose<ComponentType>(connect(mapStateToProps, {InitializeApp}))(App);\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport dialogReducer from \"./dialog-reducer\";\nimport profileReducer from \"./profile-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport ThunkMiddleware from \"redux-thunk\";\nimport authReducer from \"./auth-reducer\";\nimport {reducer as formReducer} from 'redux-form'\nimport {appReducer} from \"./app-reducer\";\nlet reducers = combineReducers({\n    DialogPage: dialogReducer,\n    ProfilePage: profileReducer,\n    Users: usersReducer,\n    Auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nexport const composeEnhancers = (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(ThunkMiddleware)))\nexport type RootStateType = ReturnType<typeof reducers>\nexport default store;","import React, {ComponentType} from 'react';\nimport './App.css';\nimport {compose} from \"redux\";\nimport {HashRouter, withRouter} from \"react-router-dom\";\nimport App from \"./App\";\nimport {connect, Provider} from \"react-redux\";\nimport store, {RootStateType} from \"./Redux/redux-store\";\nimport {InitializeApp} from \"./Redux/app-reducer\";\n\nconst mapStateToProps = (state: RootStateType) => ({\n    initialized: state.app.initialized\n})\n\nexport const AppContainer = compose<ComponentType>(withRouter,\n    connect(mapStateToProps, {InitializeApp}))(App)\n\n\nexport const SamuraiJSApp = () => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n","import './index.css';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport {SamuraiJSApp} from \"./AppContainer\";\n\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1dWpI\",\"active\":\"Navbar_active__3b0QJ\"};","import {CircularProgress} from \"@material-ui/core\";\nimport React from \"react\";\nimport s from './Preloader.module.css'\n\nexport function Preloader() {\n    return <div className={s.preloader}><CircularProgress color=\"secondary\"/></div>\n}","import {Dispatch} from \"redux\";\nimport {profileApi} from \"../api/api\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {RootStateType} from \"./redux-store\";\nimport {getUserProfile} from \"./auth-reducer\";\nimport {FormAction, stopSubmit} from \"redux-form\";\n\n\n//initial state\nlet initialState = {\n    posts: [\n        {id: 1, message: \"Its a first post\", likes: 3},\n        {id: 2, message: \"Its a second post\", likes: 3},\n        {id: 3, message: \"Its a third post\", likes: 3},\n        {id: 4, message: \"Its a fourth post\", likes: 3},\n        {id: 5, message: \"Its a fifth post\", likes: 3},\n    ],\n    profile: null,\n    status: ''\n}\n\n//reducer\nconst profileReducer = (state: ProfilePageType = initialState, action: ProfileReducerType): ProfilePageType => {\n    switch (action.type) {\n        case 'ADD-POST':\n            let text = action.postText.trim()\n            const stateCopy = {...state, posts: [...state.posts]}\n            if (text) {\n                let newPost: PostType = {\n                    id: 1,\n                    message: text,\n                    likes: 5\n                }\n                stateCopy.posts.push(newPost)\n            }\n            return stateCopy\n        case \"SET-USER-PROFILE\":\n            return {...state, profile: action.profile,}\n        case 'SET-STATUS':\n            return {...state, status: action.status}\n        case 'DELETE_POST':\n            return {...state, posts: state.posts.filter(post => post.id !== action.postId)}\n        case 'SET_PHOTOS_SUCCESS':\n            if (state.profile) {\n                return {...state, profile: {...state.profile, photos: action.photos}}\n            }\n            return {...state}\n        default:\n            return state;\n    }\n}\n\n//types\nexport type PostType = {\n    id: number\n    message: string\n    likes: number\n}\nexport type ProfileType = {\n    aboutMe: string\n    contacts: {\n        [key: string]: string\n    }\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    fullName: string\n    userId: number\n    photos: {\n        small: string\n        large: string\n    }\n}\nexport type ProfilePageType = {\n    posts: Array<PostType>\n    profile: ProfileType | null\n    status: string\n}\ntype AddPostActionType = ReturnType<typeof addPost>\ntype ChangeNewTextActionType = ReturnType<typeof updateNewPostText>\ntype SetUserProfileType = ReturnType<typeof setUserProfile>\ntype DeletePostType = ReturnType<typeof deletePost>\ntype GetStatusType = ReturnType<typeof setStatus>\ntype SetPhotoSuccessType = ReturnType<typeof setPhotoSuccess>\n\nexport type ProfileReducerType =\n    AddPostActionType\n    | ChangeNewTextActionType\n    | SetUserProfileType\n    | GetStatusType\n    | DeletePostType\n    | SetPhotoSuccessType\n\ntype ThunkType = ThunkAction<Promise<void>, RootStateType, unknown, ProfileReducerType | FormAction>\n\n// action creators\nexport const addPost = (postText: string) => ({type: 'ADD-POST', postText} as const)\nexport const updateNewPostText = (newText: string) => ({type: \"UPDATE-NEW-POST-TEXT\", newText: newText} as const)\nexport const setUserProfile = (profile: ProfileType) => ({type: \"SET-USER-PROFILE\", profile} as const)\nexport const setStatus = (status: string) => ({type: 'SET-STATUS', status} as const)\nexport const deletePost = (postId: number) => ({type: 'DELETE_POST', postId} as const)\nexport const setPhotoSuccess = (photos: { small: string, large: string }) => ({\n    type: 'SET_PHOTOS_SUCCESS',\n    photos\n} as const)\n\n//thunks\nexport const SetStatus = (userId: string) => async (dispatch: Dispatch) => {\n    const response = await profileApi.setStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const UpdateStatus = (title: string) => async (dispatch: Dispatch) => {\n    const response = await profileApi.updateStatus(title)\n    if (response.data.resultCode === 0) {\n        debugger;\n        dispatch(setStatus(title))\n    }\n}\n\nexport const setPhoto = (file: File) => async (dispatch: Dispatch) => {\n    const response = await profileApi.setPhoto(file)\n    if (response.data.resultCode === 0) {\n        dispatch(setPhotoSuccess(response.data.data.photos))\n    }\n}\n\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\n    const userId = getState().Auth.userId\n    const response = await profileApi.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n        userId && dispatch(getUserProfile(userId))\n    } else {\n        // let errorMessage = response.data.messages[0].split('->')\n        let finalErrorMessage = response.data.messages[0].split('->')[1].split(')')[0]\n        finalErrorMessage = finalErrorMessage === 'MainLink' ? 'mainLink' : finalErrorMessage.toLowerCase()\n        dispatch(stopSubmit('edit-profile', {\"contacts\": {[finalErrorMessage]: response.data.messages[0]}}))\n        return Promise.reject(response.data.messages[0])\n    }\n}\nexport default profileReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Pagination_currentPage__CzKxC\",\"page\":\"Pagination_page__1uqcG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1CGKd\",\"loginBlock\":\"Header_loginBlock__2dPsT\"};","import axios from \"axios\";\nimport {ProfileType} from \"../Redux/profile-reducer\";\n\n\nconst instance = axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": \"8c49b133-928a-4a57-b997-bbf0ea6abb17\"\n    }\n})\n\nexport const UsersApi = {\n    getUsers(currentPage: number, pageSize: number) {\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    followUser(userId: number) {\n        return instance.post(`/follow/${userId}`)\n    },\n    unfollowUser(userId: number) {\n        return instance.delete(`/follow/${userId}`)\n    },\n}\n\nexport const profileApi = {\n    getProfile(userId: string) {\n        return instance.get(`/profile/${userId}`)\n    },\n    setStatus(userId: string) {\n        return instance.get(`/profile/status/${userId}`)\n    },\n    updateStatus(status: string) {\n        return instance.put(`/profile/status`, {status})\n    },\n    setPhoto(photo: File) {\n        const formData = new FormData()\n        formData.append('image', photo)\n        return instance.put('/profile/photo', formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    saveProfile(profile: ProfileType) {\n        return instance.put('/profile', profile)\n    }\n\n}\nexport const authApi = {\n    setProfile(userId: string) {\n        console.warn('Obsolete method. Use profileApi object')\n        return profileApi.getProfile(userId)\n    },\n    me() {\n        return instance.get(`/auth/me`)\n    },\n    login(email: string, password: string, rememberMe: boolean, captcha: string) {\n        return instance.post('/auth/login', {email, password, rememberMe, captcha}\n        )\n    },\n    logout() {\n        return instance.delete('/auth/login')\n    },\n}\n\nexport const securityApi = {\n    getCaptcha() {\n        return instance.get('/security/get-captcha-url')\n    },\n}","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIREhUTExIVFBUVFRUVFRYVFx0WFRoXFR0gFyAdHx8YICgsHRolGxsWITEhJSs3Li4uGiszODMsNygtLjABCgoKDg0OGhAQGjcmHyUuLy0tLS0vNzcuLS0tLS0rLS0tMS0tLS8uLS0uLS0tLTUtLS4tLS03LS0vLS0tLS0tLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAAAQIDBQYHBAj/xABJEAABAgMFBQUEBggFAQkAAAABABECA0EEIVFh8AUSMTKhBmJxgcEHIpGiE0JSsdHhFCMzY3KCkrIIFVNzwrMWNDVDVHST0vH/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAQMEAgUG/8QALxEBAAIBAwIDBgUFAAAAAAAAAAECAwQRMRIhBUFREyJCYXGRIzKB8PEUM7HR4f/aAAwDAQACEQMRAD8A7RczDlqavplJo9OXPx6Jmzd3HPWCdX+XXogB3cc1RRtMoADMOWpq+mU5O3exy1gtK9re3rRYbB9PZohLjE6XCXhEQMMQL3RBuLUog3U0enLn49EBLuOaoo2mXzVJ9tO1YeMUiP8AilC7w3SF65ft02kGeVZTidyYIj5iYg+iWDN9Wpq+mR+D05c9XL5s2j7atqTHEBkSB+7lP/1DFf5LWNpdttpWj9pbZ5H2YZhgh/pgYdEH1htDasizjenTpUo1+kjhgDfzEZLUdpe1fZMl4f0n6WrSYIoyfCJhDTFfL8cZiJJJJN5JvJVKDtu2/b1SyWO4csc+L74Jfl9Zalb/AGx7XmF4Z0uS9JUqH75giPVc/RBsdq7ebUmc1vtF9IZhgHwgZeT/ALVW88bdasv18y75lh0QZqDtZtGEuLdagf8Afmf/AGWZ2b7SNry+FtmGHj+shhmv/WCeq1GTA/Hhw8ypnTKIOr7J9utqgIFps0qcIWAMsmVHdxJfeBpcAF0zst7Ttn28gQTfop0V30U9oCae6X3YibrgXyXysiD7aYM31amr6ZDR/wCXPx6L5s9n3tXtNhMMq0mK0WbgxLzJYxhJ4gfZOFzL6J2VtKTapUE+RME2VMDwxQ8IR6EG4gsQQx4IPUCQe9UU1wS5u7U11wTJ272OWsFZjiJPBhw3MWroUQVia5Aw5c/Horgd7uaoo2mVMMLZv8uvRVNR272OWsEEBmYctTV9MpNHpy5+PRM2bu456wUdX+XXogm93HNUUbTKAzN9Wpq+mUtR272OWsEzZu7jnrBBTuwYnXkiq3u50/JEAu7HmoaNp0xanNn4dVAAZhy1NX0yk0enLn49EEFmc8tBV9OtG9t1nMeyLQ4eKAyYw2AmQwnoSVvQd3HNUUbTLF9ptm/pNjtFnHCbJmQAmkZh935t1B8cIpihILEMRcQUhhfgghFJChAREQEREBVSwHvVKIL82aQWF3B8FZd+KhEEkKFUCoIQQt/9knbuLZto+imxH9FnxATA90ERuEwPwwixGJAWgBVRQkcUH2nNPD7BbdHG/Tq4JbHv0NNcV8i7D7ZW+xzIZkq1TXhb3YozHLiA+qYYixDXZUZfUPY3tBBtCxyrTAN2GMfrIeJgmQ3RQ5hxcWvBBQZp+PzZ6vQkM55aCr6dDR6cufj0QEg96oo2mQSXdjzUNG06CrU5s/DqoADMOWpq+mURRAM/8mfj0QSSGc8tBV9OpLux5qGjadL3cc1RRtMoADMOWpq+mQV7seI15Ire7BideSIKs2bu456wUdX+XXopLux5qGjadBVqc2fh1QGo7d7HLWCPVm7uOesFBIZzy0FX06ku7HmoaNp0Hy57XOzZse0pu6Gl2gmfLLXDfJMUOW7HvBqBsVqF0Az1ryX1D7T+x42nZDDAB+kSXmSojc8X1oHoIm+IhNF8t2iCIRxQxQmGIEgwxBiCLiCDwLvcgtRF1CIgIiICIiAiIgIiICl6KFfhhEN54gsRg/qgqhgEN5+7h+aszI3UzI3ajKkQl2ZyeDIKV3X/AA328mVa5BvEEcubDDiZgMEXw3IFxna+xp9lMAny4pZmSxMhEVx3SSLxQ3G43hdL/wAOVoIttolg81n3h4wRwj7oioid+CY2fQHV/l16I1HbvY5awUirU5s/DqqY4gACb4SWAq+nqpERxte38mOehRW4YXvN7vXl16KdyI8T7x+F2iro+7nz1egNR272OWsFObN3cc9YKCQznloKvp1Jd2PNQ0bToG9+76fkiq3Y8RryRBQGZhy1NX0yk0enLn49FBxZu7jr0UEt5/Lr0QVB3cc1RRtMoDMw5amr6ZWoSYjxYBvefjlrBXs2bu456wQDR6cufj0XNPal7MIdovabNuwWwD34TdBNAuvNI2ZouB4HEdK6v8uvRS1HbvY5awQfGG0tnTrPMilTpcUqZDxhjDHrxGBFxXjX0D/iMgexWeLdAa0bvC++CI8cLui5B2F2DBtC2QWeZFFDDFDMiMUDb3uwkjiDVlFpisbymI3naGuous272KzA5k2uGLATJZh6wmL4ssDtH2WbSg5ZUuZ/tzIf+e6q4z4581k4bx5NERbDauxG0pfNYp5/ggMz+x14Y+ztsHGyWgeMmMei7i9Z83HTb0YxF7/8ktX/AKad/wDFF+Cuwdm7bFwsdpPhJjP/ABU9UeqOmfRi0Wy2XsFtOYHFjmj+Npf95CzVg9klvmEb8UmUKvGYovhACD8VxOWkcy6jHeeIaAq94lhxwXaNlexmzwX2i0TJt/LLhEuHwL7xPky3jYvZaxWNvoLPLgiH123pn9UTnqqbaukcd11dLeeezh3Zv2a261tFFL/R5Z+vOBhLZQcT5sM11/sn2BslgaKGH6WcP/NmAEg9wcIK8L81tSLHk1F79vJqx4K0cg9vsi+yRtSdCT4bhH3xLxf4ev8AxKZh+izH/rl+rLPe3iW9ms8WE6If1QE/8Vh/8O0knaE6NnENliDYmKZB+BPkt2ln8OGPUR+JL6GNHpy5+PRQQ73e8eIy0ynq/wAuvRGo7d7HLWC0KEQgAMOWprrgho9OXPx6Kc2bu456wUdX+XXogAkHvVFG0yABmHLU1fTI1HbvY5awQeH8uOvRBG7BideSJ9MPsjXkiCYi3HmoaNp1Zicngbj73DhVuqrjgBFx92pPp0VbcMuTPVyBcB3aCr6dSXdjzUNG06i93HNUUbTIGZhy1NX0yCRVqc2fh1UEhnPLQVfTqTR6cufj0QO7jmqKNpkGh+27ZZn7Kmlt6OTFBPDfZhO7F8IIoz5Lj/sSgfaL4SJh6wj1X0btmCGKTFLI3oJgMEQNRELx8FxD2a7Gjse2LRIjB/VSJghJ4RQGOXuxDxh45rPmyRtavyX4qTvW3zdfKhEXlPSERESOiKmIOiFEwvQtf09FXALkghZVEKQRQFKhIiIg5z7c5b2GV/7mH/pzD6J/hysDQ2uePrRSpUBzgBji/ugXp9tMkx2CAQgmL9Jl7ohDkmKGOBmHE+8tu9mexf0GxQWaJt5vpJpH+pHx8W92F8IV6OmvEUiPWXn6ikzeZ9G3irU5s/DqoJDOeWgq+nUmj05c/Hogd3HNUUbTLYyhd2PNQ0bToKtTmz8OqgAMw5amr6ZSaPTlz8eiCCQznloKvp1RMiLtxiuvGGnVxy/eqMtMrcuWAMYeD11wQUfQxZ/Afgiu7sGJ15IgqzZu7jnrBR1f5deiku7HmoaNp0FWpzZ+HVAajt3sctYKDizd3HXohIZzy0FX06ku7HmoaNp0EA+b/Lr0VEyNrnbvY68UmR8QOI59fFUy4Q28b4aCr59UHm2nfDCW3b+HlxWEOz5f04tG7+s+jMoxYwGIRMfAgt/EVstqk743TzHgaXaKwsUJBY8QvN1dZi+/q9DS2iabeiERFkamve0Da0dksE+dLumAQwwHAzIhA/iASRmFzf2M9o7RFa4rPNmxzYJkuKMb8RjIjhYuDEbnG8+N2C6x2i2RBbLNNs8ZYTIWcXtEDvQnNogC2S1L2dezyLZ02ZPnTIJkwwmCWIAd2GElyTvN7xYXUvvLrTjtSMVonlnvW85ImOG/soQosy8RERLRPbBt2bZLHCJMRgjnTNwxwlohCASWI4E3B8HWO9inaGfaZc+TOjimfRGCKCKMmKLdjcGEk8QCAQ+Pgtn7f9l/8ysv0QiEEyCIRy4ouXeAIYt9Ugm8cLjfwXi9nPY87LlTPpI4Y502KExGB9wQwPugbzPxiJLDjk60xansdvNnmt/a7+TcI4mSAurcEL8Tr8FeWdeomyYYt3ehB3Yt6Fw7RAEOM2JvzXu2Xzmtxux4f/vkvIstYJG6L7o4rxkPx4q/TVm2SPkp1ForSfm9PV/l16KcnbvY5awQVanNn4dVBIZzy0FX069V5ic2bu456wTq/wAuvRGLseaho2nTFqc2fh1QQ2bd7HLWCnNm7uOesFBIZzy0FX06ku7HmoaNp0De/d9PyRVbseI15IgoYMw5amr6ZSaPTlz8eiZs3dxz1go6v8uvRBId3HNUUbTKmLgW5amuuCqajt3sctYKM2bu469EFuCF2f8AkxPj0VwPTmqKNpk6v8uvRS1HbvY5awQQGZhy1NX0ysWuziIXi8D3COJwfor5xZu7jr0QHzf5dei5tWLRtLqtprO8MAiuWiXuxEYG7wVkRPwXizG07S9eJ3jdWFDoigERESIiICtQgk3+f5K4pRCAEBUozoMls6zhhEzxXsDwAFfFe0AMw5amr6ZUSYGAhdmHNjr0VzNm7uOesF7OKkUrEPJyXm1pkNHpy5+PRA7uOaoo2mVO8Hbi/wAuvRSBR/5sctYKxwBmYctTV9MpNHpy5+PRM2bu456wUdX+XXogkO7jmqKNplAAZhy1NX0yHxbvY5awQGrN3cdeiCN2DE68kVW9+76fkiAXdjzUNG06CrU5s/DqoADMOWpq+mUmj05c9XIIJDOeWgq+nUl3Y81DRtOgd3HNUUbTKAAzDlqavpkEirU5s/DqoJDOeWgq+nUmj05c/Hogd3HNUUbTIBd2PNQ0bTqMWpz56vQAMw5amr6ZWo4t5hS8Q5tdflwwQeDakG8BFDw4cb2v9V4oIGWeEvme+KINEKNplh58rdJHEUK87V49p6o82/S5N46ZW0RFjaxEWWlWeCdCIuEXCJsfBWY8c37RyrvkineeGJVRDLLy9lwC8knoFi7TM3oiaU8BcOi6vinHG9nNMsXnaq0iIqVwvXs6RvRb1IbyvLBCSWFVmpEoQgDC+HM59Fp02LqtvPEM2oydNdo5lcLM55aCr6dW5swu31qGgy+9THGXuHv3OKAHQUQS2qTDe5q50F6jzky5fE1+tfx1f8VWSGc8tBV9Oj8HpyZ6uUh3cc1RRtMgF3Y81DRtOgq1ObPw6qAAzDlqavplJo9OXPx6IIJDOeWgq+nUsXv5qGjadA7uOaoo2mUABmHLU1fTIK92PEa8lKtbsGJ15Igl6s3dx16J1f5deiku7HmoaNp0FWpzZ+HVAydu9jlrBM2bu456wUEhnPLQVfTqS7seaho2nQR1f5deilqO3exy1ggq1ObPw6qCzOeWgq+nQHybu456wUCEO+Py69FUXdjzUNG06CrU5s/DqgNR272OWsFYtUgRjgxHAa1crxIZzy0FX06tWy0wyoYo5kTbofeoB+NPNOnr93bfdMTMTvDDzJZhLEKlaZbu0c6OcZsMW6DcIDfDuihGPEvncstYe00qK6Z+ri+MJ86ea41fgepw166x1R8uY/fybcOrpftbtLOq9Y7UZZccDxGK8cmLe94EEUILhXl48TNZ3jlqmItG0sha9pb0O7CCH4krHoim+S153silK0jaBAFi9o7dlSnAO/F9mH1NPvWAh7STxNhmPdCf2YuhIqD5VXp6PwbU6iOrbpj1nz+n72UZdVTH25l0mxWXcDnm+zlr7l6T8X+X8PyXn2bboZ8EMyAvvC7LEHMXr0irU5s9Xq6Mfs/c222YbXm87ypMALX8Pr45aNFVmzd3HPWCgkM55aCr6dSXdjzUNG06lygjzf5deiDB272OvRSKtTmz8OqgsznloKvp0E5s3dxz1go6v8uvRCSOJ96hprirLmIlrgObPV+HFBeydu/jlrBS9Wbu456wUXM55aCr6dSXdjzUNG06Bvfu+n5Iqt2PEa8kQUMGYctTV9MpNHpy5+PRQ9W/lxz1gnV/l16IJDu45qijaZQAGYctTV9Mpajt3sctYLzWy3ypI3pkcMsfZiLP4CvkKKYrNp2gek0enLn49EvdxzVFG0y1W29uJELiXBHNNCfchHgTf0osJau29pi5BBLzAMUXxP4Ldj8N1F/h2+v73czeHRAAzDlqavpkiPB7m5c/HouTWnbtpmc0+Y2EJ3B8IGWPmRmK+ImLxL/etlPBbfFf7R/Dn2jqe0u0tmkOTMEUfAwQe8elwpxK0TtD2jmWkCHd3JQLiEFyTiTXwHVYVF6Gm8OxYJ6uZ9ZcTeZU74Z1DOrc6SeaAsag8sX4HNTItAiu5YhxhPEfiMwtzlVa9rx2SVHNgiMO6HYFgYuABGZZYiR7YrSB71mlRZgxQn1Xn7cwzIpIhgBN+/G3Hdg9HIPkueLyNfp8WW/v1j67d/uuxZLVjtLpc32xWg8LNKH80RPX8Fldk9qZ1uk78URHvGGKAG66+gD3ELj63T2exRATAQdyJjCaGKG4t5GFcaLTYceSOmkfbv8AflOTLe0d5bkqgMVZnz4YOPE8ALyTkEAMV8V3dp54+HDxXtqGc2B2gjspLDfgjbehdnI4EGh+/wCDbzs3tRZp7Df+jiHCGZ7vXgacCuXKVh1Ph+LPPVPafWHUXmHaoInvhYk8cG0yABmHLU1fTLjEmdFBfBFFCe6TD9y9snbtqh4WiZ5xb39zrzreC2+G/wB4/l37R1s0enLn49Edi/1qijaZc0svbK1wc0UMwd+EXeBhZlmrJ25lxACbLill+eA748xcW+Ky5PC9RTiN/omLw2mK8XXwY5+Hw1wvAcMuXPVy8eztqyJw/VTIIj/pgtEc90selF7SPN/l16LBatqztaNpdpDu45qijaZQAGYctTV9Mgwdu9jr0U5s3dxz1guRTuwYnXkiq3v3fT8kQQQQe9Q0bTqxbLZLkwRRxxCGEc5NTgMSb7gr0RABv9wXxE0bQXJ+0224rXNd/wBXCTDLhyxOZ/JbNFpJ1F9vKOXNrbMttrttMmEwSB9HLxIeYfSHr4rWpsyKImKKIxRHiYi5PmVbhhZSvqMOnx4Y2pGymZmRERXORSoUgOgAKYgqiWCoRKFZtNmEeUQ5YhxGsFeREMfZhM+l/WAe7AQIhwLkX+K0jtrYZcmePoxu78O+YaAkkXYC7gujrnfbyN7U2EuEdSfVZdXEdDuvLBWKWIpkEMXLFHDCW4sSAei6hapBgEqGTCBuEwgfVAIquWS5m6REKEH4XrsUIqqtFH5v0TdZstl3feiO9GeMR+4YBehEW9WIiIJRFWLkSpMKpUkqEQkLN7K7U2mQb4zMgrDGXcZRcRq5YNFxkxUyRteN0xOzruydqyrTL34D7oLGA80MWfW9e692PNQ0bTrkmwtqx2WaJkN44Rw/ahPEeNRmurQT4DADDEDBEARF48PLgvl9fo/6e/b8s8f6X1tu9G7HiNeSLw7kP+p835IsDpiO3duMuzED3TNP0bDA3k+DAjzXNQFt3tFtBM6XLJfcgMR8Yz+EPVakvqvDMXRp4n17qLz3ERF6DgREJQFWTcqEQS6KEQEUqEBcy7Yxva5uW4PhCF05lyntFM3rVOP7yIf0nd9Fk1k+7EfN3Tljl2GyR70uA4wwn4hceXWNhRvZpJ/dQdAAq9HzMJu9yIi3qxEKgF0FcKh1CIJUIpQQiKQEELfvZ7bTHKilxFzKIaHGGJyPgX6LQVsHYa1GC1wh2+khig823h1hbzWLxDF7TT2+Xf7f8d0naXS7v9MfD8kVe7HiNeSL5Je5T2um71rmtwBEI/lhA+91h169rzN6fOixmzD8xXkX22CvTjrX0iP8M08iIhLKxCIiypAdAHVQDKEpREUoEREBVwwqIQhiRJFEuQbSj3p0w4zIz8YiuuxFgTgHXGoonvxvWLWfDH1dUQuodlI96ySj3SPhEQuXrpPYmJ7JBlFGOr+qr0k+/wDom/DOoio4r0XCLyrgCgQspSARSiIQiKQEEwh1MUWCGJlSoShenZ07cmy4/szICfAEP0XmQpMdUbSO17kGJ15Itb/z8fZCL5D+jy+i/qhzy0RPFEcYifiVbUugC+wjsoQirNyoQAEREQIiICKmKNIAiVYKhERDz7SmbsmZFhLjPwBXImXVO0UbWWcf3cQ+N3quVArBrJ96FlBdB7ARvZohhNi/thP4rn4D8Fv/ALPg0mZ/uffCFXpp/EhNuGzLA7dJEwMW90feVnytf29+0H8I+8r0p4VsfvnE/FRvHEqEXAneXp2af1sH8S8qv2KJpkH8QQbUgKohFVWrECIiASiIgv8A6VFiitbhwRc7VSpVcFURdSKYuKhERAiIgIiILcPHzVxEUQkREUoYntZ/3Sb4Q/3BcvRF52r/ADx9FlOF2z8VvfYT9nM/j9ERcab+7CbcNmWA29+0H8I+8oi9OeFbGoiLgFcsv7SD+IfeiJI21ERWIEREBSERBdREXKX/2Q==\"","import React, {ComponentType} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {RootStateType} from \"../Redux/redux-store\";\nimport {connect} from \"react-redux\";\n\ntype MapStatePropsType = {\n    isAuth: boolean\n}\nconst MapStateToProps = (state: RootStateType): MapStatePropsType => {\n    return {\n        isAuth: state.Auth.isAuth\n    }\n}\n\nexport function WithAuthRedirect<T>(Component: ComponentType<T>) {\n    const RedirectComponent = (props: MapStatePropsType) => {\n        let {isAuth, ...restProps} = props\n        if (!isAuth) {\n            return <Redirect to={'/login'}/>\n        }\n        return <Component {...restProps as T} />\n    }\n    let ConnectedRedirectComponent = connect(MapStateToProps)(RedirectComponent)\n    return ConnectedRedirectComponent\n}","const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\";\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\n\n//initial state\nlet initialState = {\n    messages: [\n        {id: 1, message: \"Hello, i'm first message\"},\n        {id: 2, message: \"Hello, I'm second message\"},\n        {id: 3, message: \"Hello, I'm third message\"},\n        {id: 4, message: \"Hello, I'm fourth message\"},\n    ],\n    dialogs: [\n        {id: 1, name: \"Anna\"},\n        {id: 1, name: \"Roman\"},\n        {id: 1, name: \"Renat\"},\n        {id: 1, name: \"Anatoly\"}\n    ],\n}\n\n//reducer\nexport const dialogReducer = (state: DialogPageType = initialState, action: DialogReducerType): DialogPageType => {\n    switch (action.type) {\n\n        case SEND_MESSAGE: {\n            const stateCopy = {...state, messages: [...state.messages]}\n            if (action.message) {\n                stateCopy.messages.push({id: 6, message: action.message})\n            }\n            return {...stateCopy}\n        }\n\n        default:\n            return state\n    }\n}\n\n//types\nexport type DialogsType = {\n    id: number\n    name: string\n}\nexport type MessagesType = {\n    id: number\n    message: string\n\n}\nexport type DialogPageType = {\n    messages: Array<MessagesType>\n    dialogs: Array<DialogsType>\n}\n\ntype SendMessageType = ReturnType<typeof SendMessageAC>\ntype UpdateNewMessageBodyType = ReturnType<typeof updateNewMessageBodyCreator>\nexport type DialogReducerType = SendMessageType | UpdateNewMessageBodyType\n\n\n//action creators\nexport const SendMessageAC = (message: string) => ({type: SEND_MESSAGE, message} as const )\nexport const updateNewMessageBodyCreator = (text: string) => ({type: UPDATE_NEW_MESSAGE_BODY, body: text} as const )\n\nexport default dialogReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2r5Ge\",\"selectedPage\":\"Users_selectedPage__21xQ4\",\"pages\":\"Users_pages__3LeqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1X58S\"};"],"sourceRoot":""}