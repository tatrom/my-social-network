(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[4],{246:function(t,e,s){t.exports={formControl:"FormsControls_formControl__2Arzz",error:"FormsControls_error__1ZLMY",formSummaryError:"FormsControls_formSummaryError__3q8eY"}},247:function(t,e,s){"use strict";s.d(e,"b",(function(){return j})),s.d(e,"a",(function(){return l}));var n=s(3),o=s(65),c=s(1),r=s(246),i=s.n(r),a=(s(0),function(t){var e=t.meta,s=e.touched,n=e.error,o=t.children,r=s&&n;return Object(c.jsxs)("div",{className:i.a.formControl+" "+(r?i.a.error:""),children:[Object(c.jsx)("div",{children:o}),r&&Object(c.jsx)("span",{children:n})]})}),j=function(t){var e=t.input,s=(t.meta,Object(o.a)(t,["input","meta"]));return Object(c.jsx)(a,Object(n.a)(Object(n.a)({},t),{},{children:Object(c.jsx)("textarea",Object(n.a)(Object(n.a)({},e),s))}))},l=function(t){var e=t.input,s=(t.meta,Object(o.a)(t,["input","meta"]));return Object(c.jsx)(a,Object(n.a)(Object(n.a)({},t),{},{children:Object(c.jsx)("input",Object(n.a)(Object(n.a)(Object(n.a)({},e),t),s))}))}},248:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return o}));var n=function(t){if(!t)return"Filed is required"},o=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t)}}},255:function(t,e,s){t.exports={description:"ProfileInfo_description__1FWdy",userImg:"ProfileInfo_userImg__3Lm_R",mainPhoto:"ProfileInfo_mainPhoto__1uFrv"}},311:function(t,e,s){t.exports={content:"Profile_content__33cQd"}},312:function(t,e,s){t.exports={mypost:"MyPosts_mypost__c-Uf_",button:"MyPosts_button__3JaKz"}},313:function(t,e,s){t.exports={post:"Post_post__-tayL",text:"Post_text__3c3Dz",likes:"Post_likes__2Id0C"}},315:function(t,e,s){"use strict";s.r(e);var n=s(31),o=s(32),c=s(35),r=s(34),i=s(1),a=s(0),j=s.n(a),l=s(311),u=s.n(l),b=s(70),d=s(255),f=s.n(d),p=function(t){var e=Object(a.useState)(!1),s=Object(b.a)(e,2),n=s[0],o=s[1],c=Object(a.useState)(t.status),r=Object(b.a)(c,2),j=r[0],l=r[1];Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(i.jsxs)(i.Fragment,{children:[!n&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"------"})}),n&&Object(i.jsx)("div",{children:Object(i.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(j)},value:j,onChange:function(t){l(t.currentTarget.value)}})})]})},O=function(t){var e=t.contactTitle,s=t.contactValue;return Object(i.jsxs)("div",{className:f.a.contact,children:[Object(i.jsx)("b",{children:e}),": ",s]})},h=s(80),m=s(65),x=s(116),v=s(117),P=s(246),g=s.n(P),_=s(247),k=Object(v.a)({form:"edit-profile"})((function(t){var e=t.profile,s=t.error,n=Object(m.a)(t,["profile","error"]);return Object(i.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"save"})}),s&&Object(i.jsx)("div",{className:g.a.formSummaryError,children:s}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Full name"}),": ",Object(i.jsx)(x.a,{placeholder:"Full name",name:"fullName",component:_.a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking for a job:"}),Object(i.jsx)(x.a,{placeholder:"looking for a job",name:"lookingForAJob",type:"checkbox",component:_.a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking for a job description"}),": ",Object(i.jsx)(x.a,{placeholder:"Looking for a job description",name:"lookingForAJobDescription",component:_.a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"About me:"})," ",Object(i.jsx)(x.a,{placeholder:"About me",name:"aboutMe",component:_.a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(i.jsx)("div",{className:f.a.contact,children:Object(i.jsxs)("b",{children:[t,": ",Object(i.jsx)(x.a,{placeholder:t,name:"contacts.".concat(t),component:_.a})]})},t)}))]})]})})),S=s(33),y=function(t){var e=t.profile,s=t.isOwner,n=t.goToEditMode;return Object(i.jsxs)("div",{children:[s&&Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){return n(!0)},children:"edit"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Full name"}),": ",e.fullName]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"My professional skills"})," : ",e.lookingForAJobDescription]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(i.jsx)(O,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},F=function(t){var e=t.profile,s=t.status,n=t.updateStatus,o=t.isOwner,c=t.savePhoto,r=t.saveProfile,j=Object(a.useState)(!1),l=Object(b.a)(j,2),u=l[0],d=l[1];if(!e)return Object(i.jsx)(S.a,{});return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:f.a.descriptionBlock,children:[Object(i.jsx)("img",{src:e.photos.large||h.a,alt:"",className:f.a.mainPhoto}),o&&Object(i.jsx)("input",{type:"file",onChange:function(t){t.target.files&&c(t.target.files[0])}}),u?Object(i.jsx)(k,{initialValues:e,onSubmit:function(t){r(t).then((function(){d(!1)}))},profile:e}):Object(i.jsx)(y,{profile:e,isOwner:o,goToEditMode:d}),Object(i.jsx)("div",{children:Object(i.jsx)(p,{status:s,updateStatus:n})})]})})},A=s(42),C=s(312),N=s.n(C),w=s(313),I=s.n(w),U=function(t){return Object(i.jsxs)("div",{className:I.a.post,children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://thumbs-prod.si-cdn.com/IjbgoCcHvUa6ISjPAvS8T6DTHA8=/fit-in/1600x0/https://public-media.si-cdn.com/filer/97/2c/972c4531-0552-4a49-b51b-4cdb5066bd1d/tacc1157_05_faceright_10k_rgb.jpg",alt:"img"})}),Object(i.jsxs)("div",{className:I.a.text,children:[" ",t.message]}),Object(i.jsxs)("div",{className:I.a.likes,children:[" likes ",t.likes]})]})},M=s(248),J=Object(M.a)(10),D=j.a.memo((function(t){var e=t.posts.map((function(t,e){return Object(i.jsx)(U,{id:t.id,message:t.message,likes:t.likes},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(L,{onSubmit:function(e){t.addPost(e.newPostBody)}}),Object(i.jsx)("div",{className:N.a.posts,children:e})]})})),L=Object(v.a)({form:"profileAddPostForm"})((function(t){return Object(i.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(i.jsx)(x.a,{placeholder:"Post message",component:_.b,name:"newPostBody",validate:[J]}),Object(i.jsx)("button",{children:"Add post"})]})})),T=s(18),E=Object(T.b)((function(t){return{posts:t.ProfilePage.posts}}),(function(t){return{addPost:function(e){t(Object(A.c)(e))}}}))(D),z=function(t){return Object(i.jsxs)("div",{className:u.a.content,children:[Object(i.jsx)(F,{profile:t.profile,status:t.status,updateStatus:t.UpdateStatus,isOwner:t.isOwner,savePhoto:t.setPhoto,saveProfile:t.saveProfile}),Object(i.jsx)(E,{})]})},B=s(7),V=s(21),q=s(13),H=function(t){Object(c.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t="14575"),this.props.getUserProfile(t),this.props.SetStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"componentWillUnmount",value:function(){this.props.setStatus("")}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(z,{profile:this.props.profile,status:this.props.status,UpdateStatus:this.props.UpdateStatus,isOwner:!this.props.match.params.userId,setPhoto:this.props.setPhoto,saveProfile:this.props.saveProfile})})}}]),s}(j.a.Component);e.default=Object(q.d)(Object(T.b)((function(t){return{profile:t.ProfilePage.profile,isAuth:t.Auth.isAuth,status:t.ProfilePage.status}}),{setUserProfile:A.h,getUserProfile:V.c,SetStatus:A.a,UpdateStatus:A.b,setStatus:A.g,setPhoto:A.f,saveProfile:A.e}),B.g)(H)}}]);
//# sourceMappingURL=4.998884ed.chunk.js.map